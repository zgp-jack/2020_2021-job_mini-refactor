(swan.webpackJsonp=swan.webpackJsonp||[]).push([[63],{"196":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(o=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var K=n(0),U=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(K),J=n(1),B=n(8),H=n(7),q=n(9),W=n(33);function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(197);var r=(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Recruit,U.default.Component),o(Recruit,[{"key":"_constructor","value":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(Recruit.prototype.__proto__||Object.getPrototypeOf(Recruit.prototype),"_constructor",this).call(this,e),this.$$refs=new U.default.RefsArray}},{"key":"_createData","value":function _createData(e,t,n){function Ma(e){var t=(0,B.getCityInfo)(e);U.default.setStorageSync(H.UserListChooseCity,t),x([]),function editConditionAction(t,e){var n=JSON.parse(JSON.stringify(v)),o=n.findIndex(function(e){return e.id===t}),r=E({},n[o],{"text":e});n[o]=r,b(n)}("area",t.name),M(E({},D,{"page":1,"area_id":t.id}))}this.__state=e||this.state||{},this.__props=t||this.props||{};var o=this.$prefix,r=(0,K.genCompid)(o+"$compid__10"),a=I(r,2),i=a[0],u=a[1],c=(0,K.genCompid)(o+"$compid__11"),s=I(c,2),l=s[0],p=s[1],f=(0,K.genCompid)(o+"$compid__12"),y=I(f,2),d=y[0],_=y[1],h=U.default.getStorageSync(H.UserListChooseCity),g=(0,K.useState)([{"id":W.AreaPickerKey,"text":h?h.name:"全国"},{"id":W.ClassifyPickerKey,"text":"选择工种"},{"id":W.FilterPickerKey,"text":"最新"}]),m=I(g,2),v=m[0],b=m[1],C=(0,K.useState)(0),S=I(C,2),A=S[0],w=S[1],O=(0,K.useState)(!1),P=I(O,2),R=P[0],F=P[1],j=(0,K.useState)([]),k=I(j,2),$=k[0],x=k[1],L=(0,K.useState)({"page":1,"list_type":"job","area_id":h?h.id:"","classify_id":"","keywords":"","joblisttype":"newest","token":""}),T=I(L,2),D=T[0],M=T[1];function Ta(e,t){return function setSearchDataAction(e,t){console.log(e,t),e===W.ClassifyPickerKey?M(E({},D,{"classify_id":t,"page":1})):e===W.AreaPickerKey?M(E({},D,{"area_id":t,"page":1})):M(E({},D,{"joblisttype":t,"page":1})),w(0)}(e,t)}(0,K.useEffect)(function(){!function getRecruitListAction(){(0,J.getRecruitList)(D).then(function(e){U.default.hideNavigationBarLoading(),1===D.page?x([[].concat(_toConsumableArray(e.data))]):x([].concat(_toConsumableArray($),[[].concat(_toConsumableArray(e.data))])),R&&F(!1)})}(),D.area_id||function getUserLocation(){if(h)M(E({},D,{"page":1,"area_id":h.id}));else{var e=U.default.getStorageSync(H.UserLocationCity);if(e)return Ma(e);(0,q.userAuthLoction)().then(function(e){Ma(e)}).catch(function(){U.default.setStorageSync(H.UserListChooseCity,B.AREACHINA),x([]),M(E({},D,{"page":1,"area_id":B.AREACHINA.id}))})}}()},[D]),this.anonymousFunc0=function(e){return w(e.detail.scrollTop)},this.anonymousFunc1=function(){return function pullDownAction(){F(!0),M(E({},D,{"page":1}))}()},this.anonymousFunc2=function(){return function getNextPageData(){console.log("触底触底"),U.default.showNavigationBarLoading(),M(E({},D,{"page":D.page+1}))}()};var N=(0,K.internal_inline_style)({"height":"8px"});return this.anonymousFunc3=function(){return function userPublishRecruit(){U.default.navigateTo({"url":"/pages/recruit/publish/index"})}()},K.propsManager.set({"placeholder":"找活、找工作","value":""},u,i),K.propsManager.set({"data":v,"setSearchData":Ta},p,l),K.propsManager.set({"data":$},_,d),Object.assign(this.__state,{"anonymousState__temp":Ta,"anonymousState__temp2":N,"$compid__10":u,"$compid__11":p,"$compid__12":_,"scrollTop":A,"refresh":R}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(){}},{"key":"anonymousFunc1","value":function anonymousFunc1(){}},{"key":"anonymousFunc2","value":function anonymousFunc2(){}},{"key":"anonymousFunc3","value":function anonymousFunc3(){}}]),Recruit);function Recruit(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Recruit);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Recruit.__proto__||Object.getPrototypeOf(Recruit)).apply(this,arguments));return e.$usedState=["anonymousState__temp","anonymousState__temp2","$compid__10","$compid__11","$compid__12","scrollTop","refresh"],e.customComponents=["Search","Condition","WechatNotice","RecruitList"],e}r.$$events=["anonymousFunc0","anonymousFunc1","anonymousFunc2","anonymousFunc3"],r.$$componentPath="pages/recruit/lists/index",t.default=r,Component(n(0).default.createComponent(r))},"197":function(e,t,n){}},[[196,0,1]]]);