(swan.webpackJsonp=swan.webpackJsonp||[]).push([[60],{"117":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var T=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},z=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],a=!0,o=!1,r=void 0;try{for(var u,i=n[Symbol.iterator]();!(a=(u=i.next()).done)&&(t.push(u.value),!e||t.length!==e);a=!0);}catch(n){o=!0,r=n}finally{try{!a&&i.return&&i.return()}finally{if(o)throw r}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}var C=t(0),j=_interopRequireDefault(C),D=t(4),N=_interopRequireDefault(t(118)),$=t(1),B=_interopRequireDefault(t(6));t(119);var I=t(2),L=_interopRequireDefault(t(3));function _interopRequireDefault(n){return n&&n.__esModule?n:{"default":n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}var o=(function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{"constructor":{"value":n,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(PublishedRecruit,j.default.Component),a(PublishedRecruit,[{"key":"_constructor","value":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,e);if(void 0===a){var o=Object.getPrototypeOf(n);return null===o?void 0:get(o,e,t)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(t):void 0})(PublishedRecruit.prototype.__proto__||Object.getPrototypeOf(PublishedRecruit.prototype),"_constructor",this).call(this,n),this.$$refs=new j.default.RefsArray}},{"key":"_createData","value":function _createData(n,e,t){var s=this;this.__state=n||this.state||{},this.__props=e||this.props||{},this.$prefix;var a=(0,C.useState)(N.default[0].id),o=z(a,2),r=o[0],u=o[1],i=(0,C.useState)(!0),c=z(i,2),l=c[0],p=c[1],f=(0,C.useState)(!1),d=z(f,2),y=d[0],h=d[1],g=(0,C.useState)(!1),m=z(g,2),v=m[0],_=m[1],b=(0,C.useState)([]),F=z(b,2),M=F[0],O=F[1],P=(0,D.useSelector)(function(n){return n.User}),w=(0,C.useState)({"mid":P.userId,"uuid":P.uuid,"page":1,"type":r}),k=z(w,2),x=k[0],R=k[1];function Na(n){j.default.navigateTo({"url":n})}(0,C.useDidShow)(function(){R(T({},x,{"page":1}))}),(0,C.useEffect)(function(){!function getPublishedRecruitLists(){h(!0),(0,$.userGetPublishedRecruitLists)(x).then(function(n){var e=n.data.lists,t=e.length,a=x.page;p(!!t),O(1===a?e:[].concat(_toConsumableArray(M),_toConsumableArray(e))),v&&(_(!1),j.default.stopPullDownRefresh(),j.default.hideNavigationBarLoading()),h(!1)}).catch(function(){v&&(_(!1),j.default.stopPullDownRefresh(),j.default.hideNavigationBarLoading()),h(!1)})}()},[x]),this.anonymousFunc1=function(){return function reloadPage(){j.default.showNavigationBarLoading(),_(!0),R(T({},x,{"page":1}))}()},this.anonymousFunc2=function(){return function getNextPageData(){l&&!y&&R(T({},x,{"page":x.page+1}))}()};var S=N.default.map(function(n,e){n={"privateOriginal":(0,C.internal_get_original)(n)};var t="dhzzz"+e;return s.anonymousFunc0Map[t]=function(){return function userChangePublishedItem(n){u(n),R(T({},x,{"type":n,"page":1}))}(n.privateOriginal.id)},{"_$indexKey":t,"loopState__temp2":(0,B.default)({"user-published-header-item":!0,"user-published-header-item-active":r===n.privateOriginal.id}),"privateOriginal":n.privateOriginal}}),A=M.map(function(n,e){n={"privateOriginal":(0,C.internal_get_original)(n)};var t="dizzz"+e;s.anonymousFunc3Map[t]=function(){return Na("/pages/detail/info/index?id="+n.privateOriginal.id)};var a="djzzz"+e;s.anonymousFunc4Map[a]=function(){return Na("/pages/recruit/publish/index?id="+n.privateOriginal.id)};var o="eazzz"+e;s.anonymousFunc5Map[o]=function(){return function userStopRecruit(n,t){(0,$.userChangeRecruitStatus)(n).then(function(n){if((0,L.default)(n.errmsg),"ok"==n.errcode){var e=M;e[t].is_check=n.data.is_check.toString(),e[t].is_end=n.data.is_end.toString(),e[t].top_data&&(e[t].top_data.is_top=n.data.top.is_top.toString()),O([].concat(_toConsumableArray(e)))}})}(n.privateOriginal.id,e)};var r="ebzzz"+e;s.anonymousFunc6Map[r]=function(){return function handlCancel(n){var e={"infoId":n,"status":0};(0,$.jobUpdateTopStatusAction)(e).then(function(n){n.errcode&&((0,L.default)(n.errmsg),R(T({},x,{"page":x.page})))})}(n.privateOriginal.id)};var u="eczzz"+e;s.anonymousFunc7Map[u]=function(){return function handleTopping(n){if("2"===n.is_end)return j.default.showModal({"title":"提示","content":"已招到状态不能进行置顶操作，请修改招工状态","showCancel":!1}),!1;if("1"==n.top){var e=(new Date).getTime()/1e3,t=n.top_data,a=t.end_time,o=t.is_top;if(e>parseInt(a))return Na("/pages/topping/index?id="+n.id),!1;var r={"infoId":n.id,"status":"0"==o?"1":"0"};(0,$.jobUpdateTopStatusAction)(r).then(function(n){if("ok"===n.errcode)(0,L.default)(n.errmsg),R(T({},x,{"page":x.page}));else{if("auth_forbid"===n.errcode)return void j.default.showModal({"title":"温馨提示","content":n.errmsg,"cancelText":"取消","confirmText":"去实名","success":function success(n){n.confirm&&j.default.navigateTo({"url":"/pages/realname/index?backtwo=backtwo"})}});if("member_forbid"==n.errcode)return void j.default.showModal({"title":"温馨提示","content":"mydata.errmsg","cancelText":"取消","confirmText":"联系客服","success":function success(n){if(n.confirm){var e=I.SERVERPHONE;j.default.makePhoneCall({"phoneNumber":e})}}});j.default.showToast({"title":n.errmsg,"icon":"none","duration":1500})}})}else Na("/pages/topping/index?id="+n.id)}(n.privateOriginal)};var i="edzzz"+e;return s.anonymousFunc8Map[i]=function(){return Na("/pages/topping/index?id="+n.privateOriginal.id+"&type=1")},{"_$indexKey2":t,"_$indexKey3":a,"_$indexKey4":o,"_$indexKey5":r,"_$indexKey6":u,"_$indexKey7":i,"privateOriginal":n.privateOriginal}});return Object.assign(this.__state,{"loopArray39":S,"loopArray40":A,"HeaderList":N.default,"refresh":v,"lists":M,"IMGCDNURL":I.IMGCDNURL,"more":l,"searchData":x}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc0Map[n]&&(e=this.anonymousFunc0Map)[n].apply(e,a)}},{"key":"anonymousFunc1","value":function anonymousFunc1(){}},{"key":"anonymousFunc2","value":function anonymousFunc2(){}},{"key":"anonymousFunc3","value":function anonymousFunc3(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc3Map[n]&&(e=this.anonymousFunc3Map)[n].apply(e,a)}},{"key":"anonymousFunc4","value":function anonymousFunc4(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc4Map[n]&&(e=this.anonymousFunc4Map)[n].apply(e,a)}},{"key":"anonymousFunc5","value":function anonymousFunc5(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc5Map[n]&&(e=this.anonymousFunc5Map)[n].apply(e,a)}},{"key":"anonymousFunc6","value":function anonymousFunc6(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc6Map[n]&&(e=this.anonymousFunc6Map)[n].apply(e,a)}},{"key":"anonymousFunc7","value":function anonymousFunc7(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc7Map[n]&&(e=this.anonymousFunc7Map)[n].apply(e,a)}},{"key":"anonymousFunc8","value":function anonymousFunc8(n){for(var e,t=arguments.length,a=Array(1<t?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return this.anonymousFunc8Map[n]&&(e=this.anonymousFunc8Map)[n].apply(e,a)}}]),PublishedRecruit);function PublishedRecruit(){!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,PublishedRecruit);var n=function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}(this,(PublishedRecruit.__proto__||Object.getPrototypeOf(PublishedRecruit)).apply(this,arguments));return n.config={"navigationBarTitleText":"我的招工信息","navigationBarBackgroundColor":"#0099ff","navigationBarTextStyle":"white","backgroundTextStyle":"dark"},n.$usedState=["loopArray39","loopArray40","HeaderList","refresh","lists","IMGCDNURL","more","searchData"],n.anonymousFunc0Map={},n.anonymousFunc3Map={},n.anonymousFunc4Map={},n.anonymousFunc5Map={},n.anonymousFunc6Map={},n.anonymousFunc7Map={},n.anonymousFunc8Map={},n.customComponents=["Nodata"],n}o.$$events=["anonymousFunc0","anonymousFunc1","anonymousFunc2","anonymousFunc3","anonymousFunc4","anonymousFunc5","anonymousFunc6","anonymousFunc7","anonymousFunc8"],o.$$componentPath="pages/published/recruit/index",o.config={"navigationBarTitleText":"我的招工信息","navigationBarBackgroundColor":"#0099ff","navigationBarTextStyle":"white","backgroundTextStyle":"dark"},e.default=o,Page(t(0).default.createComponent(o,!0))},"118":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});e.default=[{"title":"全部","id":"all"},{"title":"正在招","id":"being"},{"title":"已招满","id":"end"}]},"119":function(n,e,t){}},[[117,0,1]]]);