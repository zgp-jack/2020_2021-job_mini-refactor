(qq.webpackJsonp=qq.webpackJsonp||[]).push([[4],{"277":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var G=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,t){var e=[],o=!0,r=!1,a=void 0;try{for(var i,u=n[Symbol.iterator]();!(o=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);o=!0);}catch(n){r=!0,a=n}finally{try{!o&&u.return&&u.return()}finally{if(r)throw a}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(n,t,e){return t&&defineProperties(n.prototype,t),e&&defineProperties(n,e),n};function defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var T=e(0),q=_interopRequireDefault(T),L=e(1),H=e(7),N=_interopRequireDefault(e(9)),U=e(6),K=e(3),B=e(17);function _interopRequireDefault(n){return n&&n.__esModule?n:{"default":n}}e(278);var r=(function _inherits(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{"constructor":{"value":n,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(Cities,q.default.Component),o(Cities,[{"key":"_constructor","value":function _constructor(n){(function get(n,t,e){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var r=Object.getPrototypeOf(n);return null===r?void 0:get(r,t,e)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(e):void 0})(Cities.prototype.__proto__||Object.getPrototypeOf(Cities.prototype),"_constructor",this).call(this,n),this.$$refs=new q.default.RefsArray}},{"key":"_createData","value":function _createData(n,t,e){var a=this;function Ga(n){var t=q.default.getStorageSync(H.HistoryCities);if(t){var e=n.id,o=t.findIndex(function(n){return n.id===e});-1!==o&&t.splice(o,1),t.unshift(n),t.splice(L.MAXCACHECITYNUM)}else t=[n];D((0,B.setArea)({"name":n.city,"ad_name":n.ad_name})),q.default.setStorageSync(H.HistoryCities,t),l&&l(n.city,n),c(!1),I()}this.__state=n||this.state||{},this.__props=t||this.props||{},this.$prefix;var o=this.__props,r=o.data,i=void 0===r?[]:r,u=o.parent,s=void 0!==u&&u,c=o.userTapCityBtn,l=o.userChangeCity,y=o.area,p=o.userLoc,f=(0,T.useState)([]),m=G(f,2),d=m[0],_=m[1],h=(0,T.useState)(!1),v=G(h,2),g=v[0],C=v[1],F=(0,T.useState)(""),$=G(F,2),b=$[0],A=$[1],M=(0,T.useState)([]),O=G(M,2),S=O[0],w=O[1],k=(0,T.useState)([]),j=G(k,2),x=j[0],P=j[1],D=(0,K.useDispatch)(),I=function userRecentlyCities(){var n=q.default.getStorageSync(H.HistoryCities);if(n&&p.id){var t=n.findIndex(function(n){return n.id==p.id});return-1!=t?n.splice(t,1):n.splice(L.MAXCACHECITYNUM-1),console.log("我走进来了...."),void _([].concat(function _toConsumableArray(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(n)))}};(0,T.useEffect)(function(){I();var n=(0,U.objDeepCopy)(N.default),a=[];n.shift(),n.map(function(n){if(n.has_children){for(var t=n.children,e=0;e<t.length;e++)if(s||0!==e){var o={"id":t[e].id,"pid":t[e].pid,"city":t[e].name,"ad_name":t[e].ad_name,"city_name":n.name+"-"+t[e].name};a.push(o)}}else{var r={"id":n.id,"pid":n.pid,"city":n.name,"ad_name":n.ad_name,"city_name":n.name};a.push(r)}}),w(a),P(a)},[]),this.anonymousFunc0=function(){return function onInputFocus(){C(!0)}()},this.anonymousFunc1=function(n){return function userEnterCity(n){var t=n.detail.value;A(t);var e=x.filter(function(n){return-1!==n.city_name.indexOf(t)});w(e)}(n)},this.anonymousFunc2=function(){return function userClearContent(){A(""),C(!1)}()},this.anonymousFunc3=function(){return c(!1)},this.anonymousFunc4=function(){return Ga(p)};var R=d.map(function(n,t){var e="rec"+(n={"$original":(0,T.internal_get_original)(n)}).$original.id,o="fdzzz"+t;return a.anonymousFunc5Map[o]=function(){return Ga(n.$original)},{"$loopState__temp2":e,"_$indexKey":o,"$original":n.$original}}),z=i.map(function(n,r){return n={"$original":(0,T.internal_get_original)(n)},{"$loopState__temp4":r+n.$original[0].id,"$anonymousCallee__8":n.$original.map(function(n,t){var e=t+(n={"$original":(0,T.internal_get_original)(n)}).$original.id,o="fezzz"+r+"-"+t;return a.anonymousFunc6Map[o]=function(){return Ga(n.$original)},{"$loopState__temp6":e,"_$indexKey2":o,"$original":n.$original}}),"$original":n.$original}}),E=g?S.map(function(n,t){n={"$original":(0,T.internal_get_original)(n)};var e="ffzzz"+t;return a.anonymousFunc7Map[e]=function(){return function userTapInputCity(n){C(!1),Ga(n)}(n.$original)},{"_$indexKey3":e,"$original":n.$original}}):[];return Object.assign(this.__state,{"loopArray50":R,"loopArray51":z,"loopArray52":E,"text":b,"IMGCDNURL":L.IMGCDNURL,"userLoc":p,"recentlyCities":d,"data":i,"show":g,"inputCity":S,"area":y}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(){}},{"key":"anonymousFunc1","value":function anonymousFunc1(){}},{"key":"anonymousFunc2","value":function anonymousFunc2(){}},{"key":"anonymousFunc3","value":function anonymousFunc3(){}},{"key":"anonymousFunc4","value":function anonymousFunc4(){}},{"key":"anonymousFunc5","value":function anonymousFunc5(n){for(var t,e=arguments.length,o=Array(1<e?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return this.anonymousFunc5Map[n]&&(t=this.anonymousFunc5Map)[n].apply(t,o)}},{"key":"anonymousFunc6","value":function anonymousFunc6(n){for(var t,e=arguments.length,o=Array(1<e?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return this.anonymousFunc6Map[n]&&(t=this.anonymousFunc6Map)[n].apply(t,o)}},{"key":"anonymousFunc7","value":function anonymousFunc7(n){for(var t,e=arguments.length,o=Array(1<e?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return this.anonymousFunc7Map[n]&&(t=this.anonymousFunc7Map)[n].apply(t,o)}}]),Cities);function Cities(){!function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cities);var n=function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(Cities.__proto__||Object.getPrototypeOf(Cities)).apply(this,arguments));return n.$usedState=["loopArray50","loopArray51","loopArray52","text","IMGCDNURL","userLoc","recentlyCities","data","show","inputCity","area","parent","userTapCityBtn","userChangeCity"],n.anonymousFunc5Map={},n.anonymousFunc6Map={},n.anonymousFunc7Map={},n.customComponents=[],n}r.$$events=["anonymousFunc0","anonymousFunc1","anonymousFunc2","anonymousFunc3","anonymousFunc4","anonymousFunc5","anonymousFunc6","anonymousFunc7"],r.$$componentPath="components/citys/index",t.default=r,Component(e(0).default.createComponent(r))},"278":function(n,t,e){}},[[277,0,1]]]);