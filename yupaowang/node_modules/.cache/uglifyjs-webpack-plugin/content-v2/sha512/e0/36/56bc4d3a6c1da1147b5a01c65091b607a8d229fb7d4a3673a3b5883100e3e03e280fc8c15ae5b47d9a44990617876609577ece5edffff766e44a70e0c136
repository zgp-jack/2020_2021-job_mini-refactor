{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[91],{\"118\":function(e,n,t){\"use strict\";t.r(n);var o=t(27),r=t.n(o);for(var a in o)\"default\"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);n.default=r.a},\"213\":function(e,n,t){e.exports=t.p+\"subpackage/pages/personInfo/index.wxml\"},\"27\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});var ye=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,n){var t=[],o=!0,r=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(o=(u=i.next()).done)&&(t.push(u.value),!n||t.length!==n);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return t}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e};function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,a,me=t(0),he=_interopRequireDefault(me),ve=_interopRequireDefault(t(8)),ge=t(1),_e=t(16);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}t(336);var u=(function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(PersonInfo,he.default.Component),o(PersonInfo,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,n,t){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,n,t)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(t):void 0})(PersonInfo.prototype.__proto__||Object.getPrototypeOf(PersonInfo.prototype),\"_constructor\",this).call(this,e),this.$$refs=new he.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(e,n,t){var o=this;this.__state=e||this.state||{},this.__props=n||this.props||{},this.$prefix;var x=(0,me.useRouter)().params.type,r=(0,me.useContext)(_e.context),F=r.userInfo,I=r.publicList,a=(0,me.useState)({\"age\":\"\",\"proficiency\":\"\",\"personnel\":\"\",\"address\":\"\",\"type\":\"1\"}),u=ye(a,2),i=u[0],S=u[1],s=(0,me.useState)([0,0]),l=ye(s,2),c=l[0],w=l[1],f=(0,me.useState)([]),p=ye(f,2),d=p[0],O=p[1],y=(0,me.useState)(\"请选择所在地区\"),m=ye(y,2),h=(m[0],m[1]),v=(0,me.useState)(\"\"),g=ye(v,2),_=g[0],k=g[1],b=(0,me.useState)([]),P=ye(b,2),j=P[0],A=P[1],C=(0,me.useState)([]),$=ye(C,2),J=$[0],N=$[1],R=(0,me.useState)(0),D=ye(R,2),M=D[0],T=D[1],z=(0,me.useState)([]),E=ye(z,2),q=E[0],B=E[1],K=(0,me.useState)([]),L=ye(K,2),G=L[0],H=L[1],Q=(0,me.useState)([]),U=ye(Q,2),V=U[0],W=U[1],X=(0,me.useState)([]),Y=ye(X,2),Z=Y[0],ee=Y[1],ne=(0,me.useState)(!1),te=ye(ne,2),oe=te[0],re=te[1],ae=(0,me.useState)(0),ue=ye(ae,2),ie=ue[0],se=ue[1],le=(0,me.useState)(0),ce=ye(le,2),fe=ce[0],pe=ce[1];function zb(e,n){var t=void 0;\"proficiency\"===n?t=q[e.detail.value]:\"personnel\"===n?(t=G[e.detail.value],console.log(e.detail.value,\"value\"),\"0\"!==e.detail.value?re(!0):re(!1)):t=e.detail.value;var o=JSON.parse(JSON.stringify(i));o[n]=t,S(o)}(0,me.useEffect)(function(){if(I){var e=I.prof_degree.map(function(e){return e.name});B(e);var n=I.type.map(function(e){return e.name});H(n);var t=I.label.map(function(e){return e.click=!1,e});W(t)}for(var o=[],r=[],a=[],u=[],i=[],s=[],l=0;l<ve.default.length;l++){if(\"0\"!==ve.default[l].pid){u.push(ve.default[l]),o.push(ve.default[l].name);var c=[];if(ve.default[l].children.length){i.push(ve.default[l].children);for(var f=0;f<ve.default[l].children.length;f++)\"1\"!==ve.default[l].children[f].pid&&c.push(ve.default[l].children[f].name)}else i.push([ve.default[l]]),c.push(ve.default[l].name);a.push(c)}r=[ve.default[1].name]}for(var p=0;p<u.length;p++)if(u[p].children)for(var d=0;d<u[p].children.length;d++)\"1\"===u[p].children[d].pid&&u[p].children.splice(u[p].children[d],1);if(O(u),A([o,a]),0===M&&N([o,r]),x&&F){var y=I.label.map(function(n){return F.tags.map(function(e){return n.id===e.id&&(n.click=!0),e}),n});W(y),ee(F.tags),\"1\"!==F.type&&re(!0),S({\"age\":F.experience,\"proficiency\":F.prof_degree_str,\"personnel\":F.type_str,\"address\":F.hometown,\"type\":F.number_people});for(var m=F.hometown_id.split(\",\"),h=0,v=0,g=0;g<ve.default.length;g++)m[0]==ve.default[g].id&&(h=g-1);for(var _=0;_<ve.default.length;_++)for(var b=0;b<ve.default[_].children.length;b++)m[1]==ve.default[_].children[b].id&&(s=ve.default[_].children.map(function(e){return e.name}),v=b);w([h,v]),console.log(F.hometown_id.split(\",\"),'userInfo.hometown_id.split(\",\")'),k(F.hometown_id.split(\",\")),0<F.prof_degree?se(parseInt(F.prof_degree)-1):se(parseInt(F.prof_degree)),pe(parseInt(F.prof_degree)),console.log(o,\"xxxx\"),N([o,s])}},[M]),this.anonymousFunc0=function(e){return zb(e,\"age\")},this.anonymousFunc1=function(e){return function handleChange(e){w(e.detail.value);var n=\"\";if(0!=d[c[0]].children.length){n=d[c[0]].id+\",\"+d[c[0]].children[c[1]].id,h(d[c[0]].name+d[c[0]].children[c[1]].name);var t=d[c[0]].name+d[c[0]].children[c[1]].name,o=JSON.parse(JSON.stringify(i));o.address=t,S(o)}else{n=d[c[0]].id+\",\"+d[c[0]].id,h(d[c[0]].name);var r=JSON.parse(JSON.stringify(i)),a=d[c[0]].name;r.address=a,S(r)}console.log(n,\"xxxxx\"),k(n)}(e)},this.anonymousFunc2=function(e){return function handlebindcolumnchange(e){var n={\"multiArray\":J,\"multiIndex\":c};switch(n.multiIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:switch(n.multiIndex[0]){case n.multiIndex[0]:n.multiArray[1]=j[1][n.multiIndex[0]]}n.multiIndex[1]=0}console.log(n,\"obj\"),N(n.multiArray),w(n.multiIndex),console.log(n.multiArray,\"obj.multiArray\"),console.log(n.multiIndex,\"obj.multiIndex\"),T(M+1)}(e)},this.anonymousFunc3=function(e){return zb(e,\"proficiency\")},this.anonymousFunc4=function(e){return zb(e,\"personnel\")},this.anonymousFunc5=function(e){return zb(e,\"type\")},this.anonymousFunc7=function handleSubmit(){var e=G.indexOf(i.personnel);console.log(e,\"xxx\");var n=q.indexOf(i.proficiency);console.log(n,\"1111\");var t=Z.map(function(e){return e.id}).toString(),o={\"experience\":i.age,\"hometown\":_,\"number_people\":i.type,\"prof_degree\":n+1,\"tags\":t,\"type\":e+1};console.log(),console.log(o),(0,ge.resumesIntroduceAction)(o).then(function(e){return 200===e.errcode?void he.default.showModal({\"title\":\"温馨提示\",\"content\":e.errmsg,\"showCancel\":!1,\"success\":function success(){he.default.navigateBack({\"delta\":1})}}):void he.default.showModal({\"title\":\"温馨提示\",\"content\":e.errmsg,\"showCancel\":!1})})};var de=V.map(function(e,n){e={\"$original\":(0,me.internal_get_original)(e)};var t=\"bdizz\"+n;return o.anonymousFunc6Map[t]=function(){return function handleText(e){var n=JSON.parse(JSON.stringify(V)),o=JSON.parse(JSON.stringify(Z)),t=n.map(function(t){return t.id===e.id&&(e.click?(t.click=!1,o.map(function(e,n){return t.label_name===e.label_name&&o.splice(n,1),e})):o.length<3&&(t.click=!0,o.push(t))),t});ee(o),W(t)}(e.$original)},{\"_$indexKey\":t,\"$original\":e.$original}});return Object.assign(this.__state,{\"loopArray132\":de,\"formData\":i,\"multiIndex\":c,\"multiArray\":J,\"proficiencyIndex\":ie,\"proficiency\":q,\"userIndex\":fe,\"personnel\":G,\"ranks\":oe,\"label\":V}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(e){for(var n,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc6Map[e]&&(n=this.anonymousFunc6Map)[e].apply(n,o)}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}}]),a=r=PersonInfo,r.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\"],r.$$componentPath=\"subpackage/pages/personInfo/index\",a);function PersonInfo(){var e,n,t;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,PersonInfo);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t=_possibleConstructorReturn(this,(e=PersonInfo.__proto__||Object.getPrototypeOf(PersonInfo)).call.apply(e,[this].concat(r)))).config={\"navigationBarTitleText\":\"人员信息\"},t.$usedState=[\"loopArray132\",\"formData\",\"multiIndex\",\"multiArray\",\"proficiencyIndex\",\"proficiency\",\"userIndex\",\"personnel\",\"ranks\",\"label\"],t.anonymousFunc6Map={},t.customComponents=[],_possibleConstructorReturn(t,n)}u.config={\"navigationBarTitleText\":\"人员信息\"},n.default=u,Component(t(0).default.createComponent(u,!0))},\"331\":function(e,n,t){\"use strict\";t.r(n);t(332);var o=t(118);for(var r in o)\"default\"!==r&&function(e){t.d(n,e,function(){return o[e]})}(r)},\"332\":function(e,n,t){\"use strict\";t(213)},\"336\":function(e,n,t){}},[[331,0,1,2,3]]]);","extractedComments":[]}