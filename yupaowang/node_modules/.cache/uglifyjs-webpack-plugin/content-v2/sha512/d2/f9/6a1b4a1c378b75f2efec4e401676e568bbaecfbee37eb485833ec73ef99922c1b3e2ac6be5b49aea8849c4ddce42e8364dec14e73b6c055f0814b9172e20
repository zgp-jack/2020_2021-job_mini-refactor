{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[67],{\"156\":function(e,n,t){\"use strict\";t.r(n);var o=t(65),a=t.n(o);for(var u in o)\"default\"!==u&&function(e){t.d(n,e,function(){return o[e]})}(u);n.default=a.a},\"253\":function(e,n,t){e.exports=t.p+\"pages/resume/basics/index.wxml\"},\"444\":function(e,n,t){\"use strict\";t.r(n);t(445);var o=t(156);for(var a in o)\"default\"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a)},\"445\":function(e,n,t){\"use strict\";t(253)},\"446\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0}),n.SubscribeToNews=function SubscribeToNews(t,o){var a=Taro.getStorageSync(u.UserInfo);!0===Taro.canIUse(\"requestSubscribeMessage\")?Taro.requestSubscribeMessage({\"tmplIds\":[r.default[t].id],\"success\":function success(e){if((o(),\"requestSubscribeMessage:ok\"==e.errMsg)&&\"accept\"==e[r.default[t].id]){var n={\"userId\":a.userId,\"token\":a.token,\"tokenTime\":a.tokenTime,\"type\":r.default[t].type};(0,i.leavingMessageAction)(n).then(function(e){console.log(e)})}}}):o()};var u=t(7),i=t(1),r=function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}(t(447))},\"447\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});n.default={\"msg\":{\"id\":\"z5y8OFD9gs0SY0sT7FZwiWsrzT3rNp3CJFH7yhv7dUE\",\"type\":1},\"pay\":{\"id\":\"vpEpkHfo5tlmGB8oZXq-qVU3ySmsxTzPrgNsv_2l6Go\",\"type\":0},\"complain\":{\"id\":\"uZcoNQz86gAr3P4DYtgt85PnVgMcN_Je27TeHdKhz14\",\"type\":5},\"auth\":{\"id\":\"6Kda5y-LXhIySRw-ouD94xMnndZplmvfsmmAZ9kbKp4\",\"type\":6},\"recruit\":{\"id\":\"G68JCpxsyIcKPrZcQWdHTG63T2JpJIz9gXGgKLv1T0A\",\"type\":3},\"resume\":{\"id\":\"G68JCpxsyIcKPrZcQWdHTG63T2JpJIz9gXGgKLv1T0A\",\"type\":4}}},\"448\":function(e,n,t){},\"65\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});var Ne=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Me=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,n){var t=[],o=!0,a=!1,u=void 0;try{for(var i,r=e[Symbol.iterator]();!(o=(i=r.next()).done)&&(t.push(i.value),!n||t.length!==n);o=!0);}catch(e){a=!0,u=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw u}}return t}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e};function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a,u,Je=t(0),je=_interopRequireDefault(Je),Be=t(1),De=t(3),Re=_interopRequireDefault(De),$e=t(9),Ee=t(352),Ge=t(16),qe=t(8),ze=t(7),Ke=_interopRequireDefault(t(13)),Ue=t(6),Ze=t(446);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}t(448);var i=(function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(BasicsPage,je.default.Component),o(BasicsPage,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,n,t){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,n,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(BasicsPage.prototype.__proto__||Object.getPrototypeOf(BasicsPage.prototype),\"_constructor\",this).call(this,e),this.$$refs=new je.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(e,n,t){this.__state=e||this.state||{},this.__props=n||this.props||{};var o=this.$prefix,a=(0,Je.genCompid)(o+\"$compid__127\"),u=Me(a,2),i=u[0],r=u[1],s=(0,Je.genCompid)(o+\"$compid__128\"),c=Me(s,2),l=c[0],f=c[1],d=(0,Je.useContext)(Ee.contextItem),p=d.publishArea,y=d.location,m=d.adcode,g=(0,Je.useContext)(Ge.context).publicList,h=(0,Ke.default)(),v=h.text,_=h.userGetCode,S=(0,Je.useState)(qe.AREABEIJING.name),b=Me(S,2),F=b[0],x=b[1],k=(0,Je.useState)({\"title\":\"\",\"adcode\":\"\",\"location\":\"\",\"info\":\"\"}),C=Me(k,2),P=(C[0],C[1]),w=(0,Je.useState)(\"\"),O=Me(w,2),T=O[0],A=O[1],I=[\"男\",\"女\"],L=(0,Je.useState)([]),N=Me(L,2),M=N[0],J=N[1],j=(0,Je.useState)([]),B=Me(j,2),D=B[0],R=B[1],$=(0,Je.useState)([]),E=Me($,2),G=E[0],q=E[1],z=(0,Je.useState)([]),K=Me(z,2),U=K[0],Z=K[1],H=(0,Je.useState)(!1),V=Me(H,2),W=V[0],X=V[1],Q=(0,Je.useState)(\"\"),Y=Me(Q,2),ee=Y[0],ne=Y[1],te=(0,Je.useState)(0),oe=Me(te,2),ae=oe[0],ue=oe[1],ie=(0,Je.useState)(\"\"),re=Me(ie,2),se=re[0],ce=re[1],le=(0,Je.useState)(\"\"),fe=Me(le,2),de=fe[0],pe=fe[1],ye=(0,Je.useState)(\"\"),me=Me(ye,2),ge=me[0],he=me[1],ve=(0,Je.useState)(\"\"),_e=Me(ve,2),Se=_e[0],be=_e[1],Fe=(0,Je.useState)({\"name\":\"\",\"sex\":\"\",\"time\":\"\",\"nation\":\"\",\"work\":[],\"workItem\":[],\"are\":\"\",\"phone\":\"\",\"code\":\"\",\"details\":\"\",\"classifyTree\":[],\"maxClassifyCount\":3,\"classifies\":[],\"nationCurrentName\":\"\"}),xe=Me(Fe,2),ke=xe[0],Ce=xe[1];function Lc(e,n){var t=void 0;t=\"sex\"===n?I[e.detail.value]:\"nationCurrentName\"===n?M[e.detail.value]:e.detail.value,\"phone\"===n&&Te(!ee||e!==ee||\"\"===e);var o=JSON.parse(JSON.stringify(ke));o[n]=t,Ce(o),\"details\"===n&&ue(t.length)}function Mc(e){je.default.showModal({\"title\":\"温馨提示\",\"content\":e,\"showCancel\":!1})}(0,Je.useDidShow)(function(){p&&y&&m&&(he(y?y.split(\",\")[1]:\"\"),be(y?y.split(\",\")[0]:\"\"),A(m),Ce(Ne({},ke,{\"are\":p})))}),(0,Je.useEffect)(function(){if(g){console.log(g,\"v\");var e=g.nation.map(function(e){return e.mz_name});J(e),R(g.nation),q(g.occupation)}var n=je.default.getStorageSync(ze.UserLocationCity);n?x(n.city):(0,$e.userAuthLoction)().then(function(e){x(e.city)}).then(function(){x(qe.AREABEIJING.name)});var t=je.default.getStorageSync(ze.UserLastPublishArea);t&&P(t);var o=je.default.getStorageSync(\"introinfo\");if(o){var a={\"name\":o.username,\"phone\":o.tel,\"time\":o.birthday,\"sex\":I[parseInt(o.gender)-1],\"nationCurrentName\":o.nation,\"details\":o.introduce,\"workItem\":o.occupations?o.occupations:[],\"are\":o.address},u=JSON.parse(JSON.stringify(g.occupation));console.log(u,\"xxx\");var i=void 0;o.occupations_id&&(i=o.occupations_id.split(\",\"),u.map(function(e){return e.children.map(function(n){return i.map(function(e){return n.id===e&&(n.is_check=!0),e}),n}),e})),Z(i),he(o.location?o.location.split(\",\")[1]:\"\"),be(o.location?o.location.split(\",\")[0]:\"\"),ce(o.province?o.province:\"\"),pe(o.city?o.city:\"\"),ne(o.tel?o.tel:\"\"),Ce(a),A(o.ad_code?o.ad_code:\"\"),ue(o.introduce?o.introduce.length:0)}},[]);var Pe=(0,Je.useState)(!1),we=Me(Pe,2),Oe=we[0],Te=we[1],Ae=function getLocation(){(0,$e.recSerAuthLoction)().then(function(e){Ie(e)}).catch(function(){je.default.setStorageSync(ze.UserListChooseCity,qe.AREACHINA)})},Ie=function resetLocationSearch(e){Ce(Ne({},ke,{\"are\":e[0].name})),he(e[0].latitude),be(e[0].longitude),A(e[0].regeocodeData.addressComponent.adcode)};console.log(G,\"xxx\"),this.anonymousFunc0=function(e,n,t,o){return function userClickProfession(e,n,t,o){if(console.log(e,n,t,o),console.log(U,\"clickOccupation\"),G){var a=JSON.parse(JSON.stringify(G)),u=a[e].children[n].is_check;if(console.log(a),!u&&3<=(U?U.length:0))return void(0,Re.default)(\"工种最多可以选择3个\");a[e].children[n].is_check=!u;var i=JSON.parse(JSON.stringify(U||[])),r=u?i.filter(function(e){return e!==t}):[].concat(_toConsumableArray(i),[t]),s=u?ke.workItem.filter(function(e){return e!==o}):[].concat(_toConsumableArray(ke.workItem),[o]);Ce(Ne({},ke,{\"workItem\":s})),q(a),console.log(r,\"xxxx\"),Z(r)}}(e,n,t,o)},this.anonymousFunc1=function(e){return Lc(e,\"name\")},this.anonymousFunc2=function(e){return Lc(e,\"sex\")},this.anonymousFunc3=function(e){return Lc(e,\"time\")},this.anonymousFunc4=function(e){return Lc(e,\"nationCurrentName\")},this.anonymousFunc5=function(){X(!0)};var Le=ke&&ke.workItem.toString();return this.anonymousFunc6=function(){return function userChooseArea(){if(F){var e=\"/pages/map/resume/index?areaItem=\"+F;je.default.navigateTo({\"url\":e})}}()},this.anonymousFunc7=function handleLocation(e){e.stopPropagation(),je.default.getSetting({\"success\":function success(e){null!=e.authSetting[\"scope.userLocation\"]&&1!=e.authSetting[\"scope.userLocation\"]?je.default.showModal({\"title\":\"是否授权当前位置\",\"content\":\"需要获取您的地理位置，请确认授权，否则将不能为你自动推荐位置\",\"success\":function success(e){e.cancel||e.confirm&&je.default.openSetting({\"success\":function success(e){1==e.authSetting[\"scope.userLocation\"]?(je.default.showToast({\"title\":\"授权成功\",\"icon\":\"success\",\"duration\":2e3}),Ae()):je.default.showToast({\"title\":\"授权失败\",\"icon\":\"success\",\"duration\":2e3})}})}}):Ae()}})},this.anonymousFunc8=function(e){return Lc(e,\"phone\")},this.anonymousFunc9=function(e){return Lc(e,\"code\")},this.anonymousFunc10=function(){return function userSendCode(){var e=ke.phone;(0,Ue.isPhone)(e)?_(e):(0,Re.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(e){return Lc(e,\"details\")},this.anonymousFunc12=function handleSubmit(){for(var e=void 0,n=0;n<D.length;n++)D[n].mz_name===ke.nationCurrentName&&(e=D[n].mz_id);if((0,Ue.isVaildVal)(ke.name,2,5))if(ke.sex)if(ke.time)if(e)if(U)if(ke.are)if(ke.phone)if(!Oe||ke.code)if((0,Ue.isVaildVal)(ke.details,15,500)){var t={\"code\":ke.code,\"username\":ke.name,\"tel\":ke.phone,\"gender\":String(I.indexOf(ke.sex)+1),\"nation\":String(e),\"birthday\":ke.time,\"occupations\":U,\"province\":se,\"city\":de,\"introduce\":ke.details,\"lat\":String(ge),\"lng\":String(Se),\"address\":ke.are,\"adcode\":T};(0,Be.addResumeAction)(t).then(function(e){\"200\"==e.errcode?(0,Ze.SubscribeToNews)(\"resume\",function(){(0,De.SubPopup)({\"tips\":e.errmsg,\"callback\":function callback(){je.default.navigateBack({\"delta\":1})}})}):(0,De.SubPopup)({\"tips\":e.errmsg})})}else Mc(\"请填写真实自我介绍，15-500字，必须含有汉字\");else Mc(\"请正确填写验证码\");else Mc(\"请选择您的工种\");else(0,Re.default)(\"请选择地区\");else Mc(\"请选择您的工种\");else(0,Re.default)(\"请选择名族\");else(0,Re.default)(\"请选择出生日期\");else(0,Re.default)(\"请选择性别\");else Mc(\"请填写真实姓名，2-5字，必须含有汉字\")},W&&Je.propsManager.set({\"closeProfession\":function closeProfession(){X(!1)},\"data\":G,\"onClickItem\":this.anonymousFunc0,\"num\":3},r,i),Je.propsManager.set({\"num\":ae},f,l),Object.assign(this.__state,{\"anonymousState__temp\":Le,\"$compid__127\":r,\"$compid__128\":f,\"showProfession\":W,\"formData\":ke,\"sexList\":I,\"nationCurrent\":M,\"isCode\":Oe,\"text\":v}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(e){e.stopPropagation()}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}}]),u=a=BasicsPage,a.$$events=[\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\"],a.$$componentPath=\"pages/resume/basics/index\",u);function BasicsPage(){var e,n,t;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,BasicsPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(n=t=_possibleConstructorReturn(this,(e=BasicsPage.__proto__||Object.getPrototypeOf(BasicsPage)).call.apply(e,[this].concat(a)))).config={\"navigationBarTitleText\":\"基础信息\"},t.$usedState=[\"anonymousState__temp\",\"$compid__127\",\"$compid__128\",\"showProfession\",\"formData\",\"sexList\",\"nationCurrent\",\"isCode\",\"text\"],t.customComponents=[\"Profession\",\"WordsTotal\"],_possibleConstructorReturn(t,n)}i.config={\"navigationBarTitleText\":\"基础信息\"},n.default=i,Component(t(0).default.createComponent(i,!0))}},[[444,0,1,2,3]]]);","extractedComments":[]}