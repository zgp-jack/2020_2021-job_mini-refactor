{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[67],{\"154\":function(n,e,t){\"use strict\";t.r(e);var o=t(64),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"254\":function(n,e,t){n.exports=t.p+\"pages/resume/basics/index.wxml\"},\"446\":function(n,e,t){\"use strict\";t.r(e);t(447);var o=t(154);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"447\":function(n,e,t){\"use strict\";t(254)},\"448\":function(n,e,t){},\"64\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var Jn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$n=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var r,i=n[Symbol.iterator]();!(o=(r=i.next()).done)&&(t.push(r.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&i.return&&i.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,Ln=t(0),Rn=_interopRequireDefault(Ln),Tn=t(1),Dn=t(3),En=_interopRequireDefault(Dn),Mn=t(9),qn=t(354),Vn=t(8),zn=t(7),Gn=_interopRequireDefault(t(13)),Un=t(4),Hn=t(6),Wn=t(11);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(448);var r=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(BasicsPage,Rn.default.Component),o(BasicsPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(BasicsPage.prototype.__proto__||Object.getPrototypeOf(BasicsPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new Rn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,a=(0,Ln.genCompid)(o+\"$compid__125\"),u=$n(a,2),r=u[0],i=u[1],s=(0,Ln.genCompid)(o+\"$compid__126\"),c=$n(s,2),l=c[0],f=c[1],d=(0,Un.useSelector)(function(n){return n});console.log(d,\"dadasd\");var m=(0,Ln.useContext)(qn.contextItem),p=m.publishArea,y=m.location,h=m.adcode,g=(0,Gn.default)(),v=g.text,_=g.userGetCode,S=(0,Ln.useState)(Vn.AREABEIJING.name),F=$n(S,2),b=F[0],x=F[1],C=(0,Ln.useState)({\"title\":\"\",\"adcode\":\"\",\"location\":\"\",\"info\":\"\"}),P=$n(C,2),k=(P[0],P[1]),w=(0,Ln.useState)(\"\"),O=$n(w,2),A=O[0],N=O[1],I=[\"男\",\"女\"],j=(0,Ln.useState)([]),B=$n(j,2),J=B[0],$=B[1],L=(0,Ln.useState)([]),R=$n(L,2),T=R[0],D=R[1],E=(0,Ln.useState)([]),M=$n(E,2),q=M[0],V=M[1],z=(0,Ln.useState)([]),G=$n(z,2),U=G[0],H=G[1],W=(0,Ln.useState)(!1),K=$n(W,2),Q=K[0],X=K[1],Y=(0,Ln.useState)(\"\"),Z=$n(Y,2),nn=Z[0],en=Z[1],tn=(0,Ln.useState)(0),on=$n(tn,2),an=on[0],un=on[1],rn=(0,Ln.useState)(\"\"),sn=$n(rn,2),cn=sn[0],ln=sn[1],fn=(0,Ln.useState)(\"\"),dn=$n(fn,2),mn=dn[0],pn=dn[1],yn=(0,Ln.useState)(\"\"),hn=$n(yn,2),gn=hn[0],vn=hn[1],_n=(0,Ln.useState)(\"\"),Sn=$n(_n,2),Fn=Sn[0],bn=Sn[1],xn=(0,Ln.useState)({\"name\":\"\",\"sex\":\"\",\"time\":\"\",\"nation\":\"\",\"work\":[],\"workItem\":[],\"are\":\"\",\"phone\":\"\",\"code\":\"\",\"details\":\"\",\"classifyTree\":[],\"maxClassifyCount\":3,\"classifies\":[],\"nationCurrentName\":\"\"}),Cn=$n(xn,2),Pn=Cn[0],kn=Cn[1];function rc(n,e){var t=void 0;t=\"sex\"===e?I[n.detail.value]:\"nationCurrentName\"===e?J[n.detail.value]:n.detail.value,\"phone\"===e&&Nn(!nn||n!==nn||\"\"===n);var o=JSON.parse(JSON.stringify(Pn));o[e]=t,kn(o),\"details\"===e&&un(t.length)}function sc(n){Rn.default.showModal({\"title\":\"温馨提示\",\"content\":n,\"showCancel\":!1})}(0,Ln.useDidShow)(function(){p&&y&&h&&(vn(y?y.split(\",\")[1]:\"\"),bn(y?y.split(\",\")[0]:\"\"),N(h),kn(Jn({},Pn,{\"are\":p})))}),(0,Ln.useEffect)(function(){console.log(d,\"xxx111\");var n=JSON.parse(JSON.stringify(d.Personnel));if(d.Personnel){console.log(d);var e=n.nation.length&&n.nation.map(function(n){return n.mz_name});$(e),D(n.nation),V(n.occupation)}var t=Rn.default.getStorageSync(zn.UserLocationCity);t?x(t.city):(0,Mn.userAuthLoction)().then(function(n){x(n.city)}).then(function(){x(Vn.AREABEIJING.name)});var o=Rn.default.getStorageSync(zn.UserLastPublishArea);o&&k(o);var a=Rn.default.getStorageSync(\"introinfo\");if(a){var u={\"name\":a.username,\"phone\":a.tel,\"time\":a.birthday,\"sex\":I[parseInt(a.gender)-1],\"nationCurrentName\":a.nation,\"details\":a.introduce,\"workItem\":a.occupations?a.occupations:[],\"are\":a.address},r=JSON.parse(JSON.stringify(d.Personnel.occupation));console.log(r,\"xxx\");var i=void 0;a.occupations_id&&(i=a.occupations_id.split(\",\"),r.map(function(n){return n.children.map(function(e){return i.map(function(n){return e.id===n&&(e.is_check=!0),n}),e}),n})),H(i),vn(a.location?a.location.split(\",\")[1]:\"\"),bn(a.location?a.location.split(\",\")[0]:\"\"),ln(a.province?a.province:\"\"),pn(a.city?a.city:\"\"),en(a.tel?a.tel:\"\"),kn(u),N(a.ad_code?a.ad_code:\"\"),un(a.introduce?a.introduce.length:0)}},[]);var wn=(0,Ln.useState)(!1),On=$n(wn,2),An=On[0],Nn=On[1],In=function getLocation(){(0,Mn.recSerAuthLoction)().then(function(n){jn(n)}).catch(function(){Rn.default.setStorageSync(zn.UserListChooseCity,Vn.AREACHINA)})},jn=function resetLocationSearch(n){kn(Jn({},Pn,{\"are\":n[0].name})),vn(n[0].latitude),bn(n[0].longitude),N(n[0].regeocodeData.addressComponent.adcode)};console.log(q,\"xxx\"),this.anonymousFunc0=function(n,e,t,o){return function userClickProfession(n,e,t,o){if(console.log(n,e,t,o),console.log(U,\"clickOccupation\"),q){var a=JSON.parse(JSON.stringify(q)),u=a[n].children[e].is_check;if(console.log(a),!u&&3<=(U?U.length:0))return void(0,En.default)(\"工种最多可以选择3个\");a[n].children[e].is_check=!u;var r=JSON.parse(JSON.stringify(U||[])),i=u?r.filter(function(n){return n!==t}):[].concat(_toConsumableArray(r),[t]),s=u?Pn.workItem.filter(function(n){return n!==o}):[].concat(_toConsumableArray(Pn.workItem),[o]);kn(Jn({},Pn,{\"workItem\":s})),V(a),console.log(i,\"xxxx\"),H(i)}}(n,e,t,o)},this.anonymousFunc1=function(n){return rc(n,\"name\")},this.anonymousFunc2=function(n){return rc(n,\"sex\")},this.anonymousFunc3=function(n){return rc(n,\"time\")},this.anonymousFunc4=function(n){return rc(n,\"nationCurrentName\")},this.anonymousFunc5=function(){X(!0)};var Bn=Pn&&Pn.workItem.toString();return this.anonymousFunc6=function(){return function userChooseArea(){if(b){var n=\"/pages/map/resume/index?areaItem=\"+b;Rn.default.navigateTo({\"url\":n})}}()},this.anonymousFunc7=function handleLocation(n){n.stopPropagation(),Rn.default.getSetting({\"success\":function success(n){null!=n.authSetting[\"scope.userLocation\"]&&1!=n.authSetting[\"scope.userLocation\"]?Rn.default.showModal({\"title\":\"是否授权当前位置\",\"content\":\"需要获取您的地理位置，请确认授权，否则将不能为你自动推荐位置\",\"success\":function success(n){n.cancel||n.confirm&&Rn.default.openSetting({\"success\":function success(n){1==n.authSetting[\"scope.userLocation\"]?(Rn.default.showToast({\"title\":\"授权成功\",\"icon\":\"success\",\"duration\":2e3}),In()):Rn.default.showToast({\"title\":\"授权失败\",\"icon\":\"success\",\"duration\":2e3})}})}}):In()}})},this.anonymousFunc8=function(n){return rc(n,\"phone\")},this.anonymousFunc9=function(n){return rc(n,\"code\")},this.anonymousFunc10=function(){return function userSendCode(){var n=Pn.phone;(0,Hn.isPhone)(n)?_(n):(0,En.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(n){return rc(n,\"details\")},this.anonymousFunc12=function handleSubmit(){for(var n=void 0,e=0;e<T.length;e++)T[e].mz_name===Pn.nationCurrentName&&(n=T[e].mz_id);if((0,Hn.isVaildVal)(Pn.name,2,5))if(Pn.sex)if(Pn.time)if(n)if(U)if(Pn.are)if(Pn.phone)if(!An||Pn.code)if((0,Hn.isVaildVal)(Pn.details,15,500)){var t={\"code\":Pn.code,\"username\":Pn.name,\"tel\":Pn.phone,\"gender\":String(I.indexOf(Pn.sex)+1),\"nation\":String(n),\"birthday\":Pn.time,\"occupations\":U,\"province\":cn,\"city\":mn,\"introduce\":Pn.details,\"lat\":String(gn),\"lng\":String(Fn),\"address\":Pn.are,\"adcode\":A};(0,Tn.addResumeAction)(t).then(function(n){\"200\"==n.errcode?(0,Wn.SubscribeToNews)(\"resume\",function(){(0,Dn.SubPopup)({\"tips\":n.errmsg,\"callback\":function callback(){Rn.default.navigateBack({\"delta\":1})}})}):(0,Dn.SubPopup)({\"tips\":n.errmsg})})}else sc(\"请填写真实自我介绍，15-500字，必须含有汉字\");else sc(\"请正确填写验证码\");else sc(\"请选择您的工种\");else(0,En.default)(\"请选择地区\");else sc(\"请选择您的工种\");else(0,En.default)(\"请选择名族\");else(0,En.default)(\"请选择出生日期\");else(0,En.default)(\"请选择性别\");else sc(\"请填写真实姓名，2-5字，必须含有汉字\")},Q&&Ln.propsManager.set({\"closeProfession\":function closeProfession(){X(!1)},\"data\":q,\"onClickItem\":this.anonymousFunc0,\"num\":3},i,r),Ln.propsManager.set({\"num\":an},f,l),Object.assign(this.__state,{\"anonymousState__temp\":Bn,\"$compid__125\":i,\"$compid__126\":f,\"showProfession\":Q,\"formData\":Pn,\"sexList\":I,\"nationCurrent\":J,\"isCode\":An,\"text\":v}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(n){n.stopPropagation()}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}}]),u=a=BasicsPage,a.$$events=[\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\"],a.$$componentPath=\"pages/resume/basics/index\",u);function BasicsPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,BasicsPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=BasicsPage.__proto__||Object.getPrototypeOf(BasicsPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"基础信息\"},t.$usedState=[\"anonymousState__temp\",\"$compid__125\",\"$compid__126\",\"showProfession\",\"formData\",\"sexList\",\"nationCurrent\",\"isCode\",\"text\"],t.customComponents=[\"Profession\",\"WordsTotal\"],_possibleConstructorReturn(t,e)}r.config={\"navigationBarTitleText\":\"基础信息\"},e.default=r,Component(t(0).default.createComponent(r,!0))}},[[446,0,1,2,3]]]);","extractedComments":[]}