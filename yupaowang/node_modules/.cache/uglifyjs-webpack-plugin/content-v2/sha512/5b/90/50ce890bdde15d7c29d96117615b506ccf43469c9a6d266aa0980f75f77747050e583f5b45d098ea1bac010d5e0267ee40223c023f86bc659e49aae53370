{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[60],{\"139\":function(n,e,t){\"use strict\";t.r(e);var o=t(48),r=t.n(o);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a);e.default=r.a},\"237\":function(n,e,t){n.exports=t.p+\"pages/published/recruit/index.wxml\"},\"394\":function(n,e,t){\"use strict\";t.r(e);t(395);var o=t(139);for(var r in o)\"default\"!==r&&function(n){t.d(e,n,function(){return o[n]})}(r)},\"395\":function(n,e,t){\"use strict\";t(237)},\"396\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});e.default=[{\"title\":\"全部\",\"id\":\"all\"},{\"title\":\"正在招\",\"id\":\"being\"},{\"title\":\"已招满\",\"id\":\"end\"}]},\"397\":function(n,e,t){},\"48\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var C=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},O=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,r=!1,a=void 0;try{for(var u,i=n[Symbol.iterator]();!(o=(u=i.next()).done)&&(t.push(u.value),!e||t.length!==e);o=!0);}catch(n){r=!0,a=n}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var r,a,T=t(0),D=_interopRequireDefault(T),j=t(5),z=_interopRequireDefault(t(396)),B=t(1),I=_interopRequireDefault(t(4));t(397);var L=t(2),N=_interopRequireDefault(t(3));function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}var u=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(PublishedRecruit,D.default.Component),o(PublishedRecruit,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var r=Object.getPrototypeOf(n);return null===r?void 0:get(r,e,t)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(t):void 0})(PublishedRecruit.prototype.__proto__||Object.getPrototypeOf(PublishedRecruit.prototype),\"_constructor\",this).call(this,n),this.$$refs=new D.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){var i=this;this.__state=n||this.state||{},this.__props=e||this.props||{},this.$prefix;var o=(0,T.useState)(z.default[0].id),r=O(o,2),a=r[0],u=r[1],s=(0,T.useState)(!0),c=O(s,2),l=c[0],f=c[1],p=(0,T.useState)(!1),d=O(p,2),y=d[0],h=d[1],g=(0,T.useState)(!1),m=O(g,2),v=m[0],b=m[1],_=(0,T.useState)([]),F=O(_,2),w=F[0],M=F[1],P=(0,j.useSelector)(function(n){return n.User}),x=(0,T.useState)({\"mid\":P.userId,\"uuid\":P.uuid,\"page\":1,\"type\":a}),R=O(x,2),$=R[0],k=R[1];function wb(n){D.default.navigateTo({\"url\":n})}(0,T.useDidShow)(function(){k(C({},$,{\"page\":1}))}),(0,T.useEffect)(function(){!function getPublishedRecruitLists(){h(!0),(0,B.userGetPublishedRecruitLists)($).then(function(n){var e=n.data.lists,t=e.length,o=$.page;f(!!t),M(1===o?e:[].concat(_toConsumableArray(w),_toConsumableArray(e))),v&&(b(!1),D.default.stopPullDownRefresh(),D.default.hideNavigationBarLoading()),h(!1)}).catch(function(){v&&(b(!1),D.default.stopPullDownRefresh(),D.default.hideNavigationBarLoading()),h(!1)})}()},[$]),this.anonymousFunc1=function(){return function reloadPage(){D.default.showNavigationBarLoading(),b(!0),k(C({},$,{\"page\":1}))}()},this.anonymousFunc2=function(){return function getNextPageData(){l&&!y&&k(C({},$,{\"page\":$.page+1}))}()};var S=z.default.map(function(n,e){n={\"$original\":(0,T.internal_get_original)(n)};var t=\"bdazz\"+e;return i.anonymousFunc0Map[t]=function(){return function userChangePublishedItem(n){u(n),k(C({},$,{\"type\":n,\"page\":1}))}(n.$original.id)},{\"_$indexKey\":t,\"$loopState__temp2\":(0,I.default)({\"user-published-header-item\":!0,\"user-published-header-item-active\":a===n.$original.id}),\"$original\":n.$original}}),A=w.map(function(n,e){n={\"$original\":(0,T.internal_get_original)(n)};var t=\"bdbzz\"+e;i.anonymousFunc3Map[t]=function(){return wb(\"/pages/detail/info/index?id=\"+n.$original.id)};var o=\"bdczz\"+e;i.anonymousFunc4Map[o]=function(){return function userStopRecruit(n,t){(0,B.userChangeRecruitStatus)(n).then(function(n){if((0,N.default)(n.errmsg),\"ok\"==n.errcode){var e=w;e[t].is_check=n.data.is_check.toString(),e[t].is_end=n.data.is_end.toString(),e[t].top_data&&(e[t].top_data.is_top=n.data.top.is_top.toString()),M([].concat(_toConsumableArray(e)))}})}(n.$original.id,e)};var r=\"bddzz\"+e;i.anonymousFunc5Map[r]=function(){return function handlCancel(n){var e={\"infoId\":n,\"status\":0};(0,B.jobUpdateTopStatusAction)(e).then(function(n){n.errcode&&((0,N.default)(n.errmsg),k(C({},$,{\"page\":$.page})))})}(n.$original.id)};var a=\"bdezz\"+e;i.anonymousFunc6Map[a]=function(){return function handleTopping(n){if(\"2\"===n.is_end)return D.default.showModal({\"title\":\"提示\",\"content\":\"已招到状态不能进行置顶操作，请修改招工状态\",\"showCancel\":!1}),!1;if(\"1\"==n.top){var e=(new Date).getTime()/1e3,t=n.top_data,o=t.end_time,r=t.is_top;if(e>parseInt(o))return wb(\"/pages/topping/index?id=\"+n.id),!1;var a={\"infoId\":n.id,\"status\":\"0\"==r?\"1\":\"0\"};(0,B.jobUpdateTopStatusAction)(a).then(function(n){if(\"ok\"===n.errcode)(0,N.default)(n.errmsg),k(C({},$,{\"page\":$.page}));else{if(\"auth_forbid\"===n.errcode)return void D.default.showModal({\"title\":\"温馨提示\",\"content\":n.errmsg,\"cancelText\":\"取消\",\"confirmText\":\"去实名\",\"success\":function success(n){n.confirm&&D.default.navigateTo({\"url\":\"/pages/realname/index?backtwo=backtwo\"})}});if(\"member_forbid\"==n.errcode)return void D.default.showModal({\"title\":\"温馨提示\",\"content\":\"mydata.errmsg\",\"cancelText\":\"取消\",\"confirmText\":\"联系客服\",\"success\":function success(n){if(n.confirm){var e=L.SERVERPHONE;D.default.makePhoneCall({\"phoneNumber\":e})}}});D.default.showToast({\"title\":n.errmsg,\"icon\":\"none\",\"duration\":1500})}})}else wb(\"/pages/topping/index?id=\"+n.id)}(n.$original)};var u=\"bdfzz\"+e;return i.anonymousFunc7Map[u]=function(){return wb(\"/pages/topping/index?id=\"+n.$original.id+\"&type=1\")},{\"_$indexKey2\":t,\"_$indexKey3\":o,\"_$indexKey4\":r,\"_$indexKey5\":a,\"_$indexKey6\":u,\"$original\":n.$original}});return Object.assign(this.__state,{\"loopArray126\":S,\"loopArray127\":A,\"HeaderList\":z.default,\"refresh\":v,\"lists\":w,\"IMGCDNURL\":L.IMGCDNURL,\"more\":l,\"searchData\":$}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc0Map[n]&&(e=this.anonymousFunc0Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc3Map[n]&&(e=this.anonymousFunc3Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc4Map[n]&&(e=this.anonymousFunc4Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc5Map[n]&&(e=this.anonymousFunc5Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc6Map[n]&&(e=this.anonymousFunc6Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return this.anonymousFunc7Map[n]&&(e=this.anonymousFunc7Map)[n].apply(e,o)}}]),a=r=PublishedRecruit,r.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\"],r.$$componentPath=\"pages/published/recruit/index\",a);function PublishedRecruit(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,PublishedRecruit);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t=_possibleConstructorReturn(this,(n=PublishedRecruit.__proto__||Object.getPrototypeOf(PublishedRecruit)).call.apply(n,[this].concat(r)))).config={\"navigationBarTitleText\":\"我的招工信息\",\"navigationBarBackgroundColor\":\"#0099ff\",\"navigationBarTextStyle\":\"white\",\"backgroundTextStyle\":\"dark\"},t.$usedState=[\"loopArray126\",\"loopArray127\",\"HeaderList\",\"refresh\",\"lists\",\"IMGCDNURL\",\"more\",\"searchData\"],t.anonymousFunc0Map={},t.anonymousFunc3Map={},t.anonymousFunc4Map={},t.anonymousFunc5Map={},t.anonymousFunc6Map={},t.anonymousFunc7Map={},t.customComponents=[\"Nodata\"],_possibleConstructorReturn(t,e)}u.config={\"navigationBarTitleText\":\"我的招工信息\",\"navigationBarBackgroundColor\":\"#0099ff\",\"navigationBarTextStyle\":\"white\",\"backgroundTextStyle\":\"dark\"},e.default=u,Component(t(0).default.createComponent(u,!0))}},[[394,0,1,2,3]]]);","extractedComments":[]}