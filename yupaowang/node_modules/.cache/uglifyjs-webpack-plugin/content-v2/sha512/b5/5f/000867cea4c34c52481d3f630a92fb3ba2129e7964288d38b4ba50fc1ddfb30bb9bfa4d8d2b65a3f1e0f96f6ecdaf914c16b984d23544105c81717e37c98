{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[42],{\"146\":function(n,e,t){\"use strict\";t.r(e);var o=t(56),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"246\":function(n,e,t){n.exports=t.p+\"pages/detail/info/index.wxml\"},\"422\":function(n,e,t){\"use strict\";t.r(e);t(423);var o=t(146);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"423\":function(n,e,t){\"use strict\";t(246)},\"424\":function(n,e,t){},\"56\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var hn=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var i,r=n[Symbol.iterator]();!(o=(i=r.next()).done)&&(t.push(i.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&r.return&&r.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,gn=t(0),bn=_interopRequireDefault(gn),vn=t(1),Fn=t(2),wn=t(4),kn=t(6),xn=t(3),Sn=_interopRequireDefault(xn),Cn=t(11),Tn=t(7);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(424);var i=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(DetailInfoPage,bn.default.Component),o(DetailInfoPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(DetailInfoPage.prototype.__proto__||Object.getPrototypeOf(DetailInfoPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new bn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){var a=this;this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,u=(0,gn.genCompid)(o+\"$compid__123\"),i=hn(u,2),r=i[0],s=i[1],c=(0,gn.genCompid)(o+\"$compid__124\"),l=hn(c,2),f=l[0],d=l[1],p=(0,gn.useRouter)().params.id,m=bn.default.getStorageSync(Tn.UserInfo),y=(0,gn.useState)({\"title\":\"\",\"time\":\"\",\"image\":\"\",\"user_name\":\"\",\"classifyName\":[],\"detail\":\"\",\"show_full_address\":\"\",\"location\":\"\",\"map_address_name\":\"\",\"map_street_name\":\"\",\"tel_str\":\"\",\"show_ajax_btn\":!1,\"id\":0,\"is_collect\":0,\"view_images\":[],\"is_end\":0,\"is_check\":0,\"has_top\":0,\"show_complaint\":{\"show_complaint\":0,\"tips_message\":\"\"},\"top_info\":{\"is_top\":\"\"}}),_=hn(y,2),h=_[0],g=_[1],b=(0,gn.useState)(!1),v=hn(b,2),F=v[0],w=v[1],k=(0,gn.useState)(\"\"),x=hn(k,2),S=x[0],C=x[1],T=(0,gn.useState)(!1),P=hn(T,2),j=P[0],I=P[1],$=(0,gn.useState)(0),D=hn($,2),M=D[0],O=D[1],R=(0,gn.useState)(\"\"),A=hn(R,2),N=A[0],E=A[1],L=(0,gn.useState)(!1),U=hn(L,2),B=U[0],G=U[1],W=(0,gn.useState)(!1),q=hn(W,2),H=q[0],V=q[1],X=(0,gn.useState)(!1),z=hn(X,2),J=z[0],K=(z[1],(0,gn.useState)(\"\")),Q=hn(K,2),Y=Q[0],Z=Q[1],nn=(0,gn.useState)(!1),en=hn(nn,2),tn=en[0],on=en[1],an=(0,gn.useState)(!0),un=hn(an,2),rn=un[0],sn=un[1],cn=(0,wn.useSelector)(function(n){return n.User.login}),ln=(0,gn.useState)([]),fn=hn(ln,2),dn=fn[0],pn=fn[1];function Tb(n){bn.default.navigateTo({\"url\":n})}function Wb(){var n={\"type\":\"job\",\"infoId\":h.id};(0,vn.jobGetTelAction)(n).then(function(n){\"ok\"===n.errcode&&(I(!0),Z(n.tel),on(!0),sn(!1))})}function Xb(){\"end\"===N?bn.default.showModal({\"title\":\"温馨提示\",\"content\":\"该招工信息已招到，暂时不能投诉\",\"showCancel\":!1}):H?bn.default.showModal({\"title\":\"提示\",\"content\":\"您已投诉该信息，请勿重复操作！\",\"showCancel\":!1}):tn?w(!0):h.show_ajax_btn?(0,Sn.default)(\"请查看完整的手机号码后再操作！\"):2!==h.is_end&&h.show_complaint.show_complaint?w(!0):bn.default.showModal({\"title\":\"提示\",\"content\":\"您已投诉该信息，请勿重复投诉！\",\"showCancel\":!1})}function $b(){(0,vn.jobEndStatusAction)(h.id).then(function(n){\"ok\"===n.errcode?(console.log(B),console.log(h.is_end,\"xxx\"),(0,Sn.default)(n.errmsg),G(!1),I(!0)):(0,Sn.default)(n.errmsg)})}(0,gn.useDidShow)(function(){j?I(!1):(console.log(1111),mn())});var mn=function getRecruitInfo(){var n={\"type\":\"job\",\"infoId\":p};cn?(0,vn.jobInfoAction)(n).then(function(n){var e={\"page\":1,\"type\":1,\"area_id\":n.result.city_id,\"job_ids\":n.result.id,\"classify_id\":[n.result.occupations].join(\",\")};(0,vn.jobRecommendListAction)(e).then(function(n){console.log(n,\"xxxxx\"),pn(n.data.list)}),I(!1),g(n.result),Z(n.result.tel_str),sn(n.result.show_ajax_btn),bn.default.setNavigationBarTitle({\"title\":n.result.title}),O(n.result.is_collect),m.userId===n.result.user_id?E(\"own\"):E(n.errcode)}):(0,vn.jobNoUserInfoAction)(n).then(function(n){I(!1),g(n.result),Z(n.result.tel_str),sn(n.result.show_ajax_btn),bn.default.setNavigationBarTitle({\"title\":n.result.title}),O(n.result.is_collect),m.userId===n.result.user_id?E(\"own\"):E(n.errcode)})};this.anonymousFunc0=function(){return Wb()},this.anonymousFunc1=function(){bn.default.makePhoneCall({\"phoneNumber\":Y})},this.anonymousFunc2=Xb,this.anonymousFunc3=function(){return Tb(\"/subpackage/pages/anti-fraud/index\")},this.anonymousFunc4=function(){return Tb(\"/subpackage/pages/notice/index?id=32\")},this.anonymousFunc6=function handleMap(){var n=h.location.split(\",\");I(!0),bn.default.openLocation({\"latitude\":parseFloat(n[1]),\"longitude\":parseFloat(n[0]),\"name\":h.map_address_name,\"address\":h.map_street_name,\"scale\":18})},this.anonymousFunc7=function(){return Tb(\"/subpackage/pages/download/index\")},this.anonymousFunc8=$b,this.anonymousFunc9=function(){return Tb(\"/pages/topping/index?id=\"+h.id+\"&type=1\")},this.anonymousFunc10=$b,this.anonymousFunc11=function(){return function handleTopping(n){if(n.has_top){var e=parseInt(n.top_info.end_time);if((new Date).getTime()/1e3<e){bn.default.showLoading({\"title\":\"正在执行操作\"});var t={\"infoId\":p,\"status\":\"0\"==n.toping?\"1\":\"0\"};return(0,vn.jobUpdateTopStatusAction)(t).then(function(n){if(\"ok\"===n.errcode)console.log(n),(0,Sn.default)(n.errmsg),I(!0),G(!0);else{if(\"auth_forbid\"===n.errcode)return void bn.default.showModal({\"title\":\"温馨提示\",\"content\":n.errmsg,\"cancelText\":\"取消\",\"confirmText\":\"去实名\",\"success\":function success(n){n.confirm&&bn.default.navigateTo({\"url\":\"/pages/realname/index?backtwo=backtwo\"})}});if(\"member_forbid\"==n.errcode)return void bn.default.showModal({\"title\":\"温馨提示\",\"content\":\"mydata.errmsg\",\"cancelText\":\"取消\",\"confirmText\":\"联系客服\",\"success\":function success(n){if(n.confirm){var e=Fn.SERVERPHONE;bn.default.makePhoneCall({\"phoneNumber\":e})}}});bn.default.showToast({\"title\":n.errmsg,\"icon\":\"none\",\"duration\":1500})}}),!1}}Tb(\"/pages/topping/index?id=\"+n.id)}(h)},this.anonymousFunc12=function collection(){(0,vn.recruitListCancelCollectionAction)(h.id.toString()).then(function(n){\"add\"===n.action?O(1):O(0)})},this.anonymousFunc13=Xb,this.anonymousFunc14=function(){return Wb()},this.anonymousFunc15=function(){bn.default.makePhoneCall({\"phoneNumber\":h.tel_str})};var yn=h.classifyName.map(function(n,e){return{\"$loopState__temp2\":e+e,\"$original\":(n={\"$original\":(0,gn.internal_get_original)(n)}).$original}}),_n=0<h.view_images.length?h.view_images.map(function(n,e){n={\"$original\":(0,gn.internal_get_original)(n)};var t=0<h.view_images.length?e+e:null,o=\"beezz\"+e;return a.anonymousFunc5Map[o]=function(){return function handleImage(n){I(!0),bn.default.previewImage({\"current\":n,\"urls\":[n]})}(n.$original)},{\"$loopState__temp4\":t,\"_$indexKey\":o,\"$original\":n.$original}}):[];return dn.length&&gn.propsManager.set({\"data\":dn,\"type\":1},s,r),F&&gn.propsManager.set({\"display\":F,\"textarea\":S,\"handleTextarea\":function handleTextarea(n){var e=n.detail.value;C(e)},\"setComplaintModal\":w,\"handleSubmit\":function handleSubmit(){if(!(0,kn.isVaildVal)(S,15,500))return(0,Sn.default)(\"输入内容不少于15个字且必须包含文字\"),!1;var n={\"content\":S,\"type\":\"job\",\"infoId\":h.id};(0,vn.publishComplainAction)(n).then(function(n){\"ok\"===n.errcode&&(0,Cn.SubscribeToNews)(\"complain\",function(){(0,xn.SubPopup)({\"tips\":n.errmsg,\"callback\":function callback(){w(!1),V(!0)}})})})}},d,f),Object.assign(this.__state,{\"data\":h,\"loopArray139\":yn,\"loopArray140\":_n,\"$compid__123\":s,\"$compid__124\":d,\"resCode\":N,\"editPhone\":rn,\"IMGCDNURL\":Fn.IMGCDNURL,\"again\":J,\"stopHiring\":B,\"isCollection\":M,\"recommend\":dn,\"complaintModal\":F,\"phone\":Y}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return this.anonymousFunc5Map[n]&&(e=this.anonymousFunc5Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}},{\"key\":\"anonymousFunc13\",\"value\":function anonymousFunc13(){}},{\"key\":\"anonymousFunc14\",\"value\":function anonymousFunc14(){}},{\"key\":\"anonymousFunc15\",\"value\":function anonymousFunc15(){}}]),u=a=DetailInfoPage,a.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\",\"anonymousFunc13\",\"anonymousFunc14\",\"anonymousFunc15\"],a.$$componentPath=\"pages/detail/info/index\",u);function DetailInfoPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,DetailInfoPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=DetailInfoPage.__proto__||Object.getPrototypeOf(DetailInfoPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"\"},t.$usedState=[\"data\",\"loopArray139\",\"loopArray140\",\"$compid__123\",\"$compid__124\",\"resCode\",\"editPhone\",\"IMGCDNURL\",\"again\",\"stopHiring\",\"isCollection\",\"recommend\",\"complaintModal\",\"phone\"],t.anonymousFunc5Map={},t.customComponents=[\"WechatNotice\",\"CollectionRecruitList\",\"Report\"],_possibleConstructorReturn(t,e)}i.config={\"navigationBarTitleText\":\"\"},e.default=i,Component(t(0).default.createComponent(i,!0))}},[[422,0,1,2,3]]]);","extractedComments":[]}