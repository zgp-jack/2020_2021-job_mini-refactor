{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[85],{\"120\":function(n,e,t){\"use strict\";t.r(e);var o=t(30),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"214\":function(n,e,t){n.exports=t.p+\"subpackage/pages/basics/index.wxml\"},\"30\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0}),e.contextItem=void 0;var yn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},mn=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var r,s=n[Symbol.iterator]();!(o=(r=s.next()).done)&&(t.push(r.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&s.return&&s.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,pn=t(0),dn=_interopRequireDefault(pn),hn=t(1),gn=_interopRequireDefault(t(3)),vn=t(9),_n=t(16),bn=t(8),Fn=t(7),Sn=_interopRequireDefault(t(13)),Pn=t(5);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(341);var Cn=e.contextItem=(0,pn.createContext)({}),r=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(BasicsPage,dn.default.Component),o(BasicsPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(BasicsPage.prototype.__proto__||Object.getPrototypeOf(BasicsPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new dn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,a=(0,pn.genCompid)(o+\"$compid__116\"),u=mn(a,2),r=u[0],s=u[1],i=(0,pn.genCompid)(o+\"$compid__117\"),c=mn(i,2),f=c[0],l=c[1],y=((0,pn.useContext)(_n.context).area,(0,Sn.default)()),m=y.text,p=y.userGetCode,d=(0,pn.useState)(bn.AREABEIJING.name),h=mn(d,2),g=h[0],v=h[1],_=(0,pn.useState)({\"title\":\"\",\"adcode\":\"\",\"location\":\"\",\"info\":\"\"}),b=mn(_,2),F=(b[0],b[1]),S=[\"男\",\"女\"],P=(0,pn.useState)([]),C=mn(P,2),k=C[0],w=C[1],x=(0,pn.useState)([]),O=mn(x,2),A=O[0],I=O[1],j=(0,pn.useState)(),N=mn(j,2),T=N[0],$=N[1],B=(0,pn.useState)(!1),R=mn(B,2),D=R[0],J=R[1],L=(0,pn.useState)(\"\"),E=mn(L,2),K=E[0],M=E[1],q=(0,pn.useState)(0),z=mn(q,2),G=z[0],U=z[1],V=(0,pn.useState)(\"\"),W=mn(V,2),H=W[0],Q=W[1],X=(0,pn.useState)(\"\"),Y=mn(X,2),Z=Y[0],nn=Y[1],en=(0,pn.useState)({\"name\":\"\",\"sex\":\"\",\"time\":\"\",\"nation\":\"\",\"work\":[],\"workItem\":\"\",\"are\":\"\",\"phone\":\"\",\"code\":\"\",\"details\":\"\",\"classifyTree\":[],\"maxClassifyCount\":0,\"classifies\":[],\"nationCurrentName\":\"\"}),tn=mn(en,2),on=tn[0],an=tn[1];function Kb(n,e){var t=void 0;t=\"sex\"===e?S[n.detail.value]:\"nationCurrentName\"===e?k[n.detail.value]:n.detail.value,\"phone\"===e&&cn(!K||n!==K||\"\"===n);var o=JSON.parse(JSON.stringify(on));o[e]=t,an(o),\"details\"===e&&U(t.length)}function Nb(n,e,t){if(console.log(n,\"i\"),console.log(e,\"k\"),console.log(t,\"id\"),T){var o=JSON.parse(JSON.stringify(T.classifyTree)),a=o[n].children[e].is_check;if(console.log(o,\"works\"),console.log(a,\"check\"),!a){var u=T.maxClassifyCount;if(u<=T.classifies.length)return void(0,gn.default)(\"工种最多可以选择\"+u+\"个\")}o[n].children[e].is_check=!a;var r=JSON.parse(JSON.stringify(T.classifies)),s=a?r.filter(function(n){return n!==t}):[].concat(function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}(r),[t]);console.log(o,\"works\"),console.log(s,\"newArr\")}}(0,pn.useEffect)(function(){var n=dn.default.getStorageSync(Fn.UserLocationCity);n?v(n.city):(0,vn.userAuthLoction)().then(function(n){v(n.city)}).then(function(){v(bn.AREABEIJING.name)});var e=dn.default.getStorageSync(Fn.UserLastPublishArea);e&&F(e);var t=dn.default.getStorageSync(\"introinfo\");if(t){console.log(t,\"useInfo\");var o={\"name\":t.username,\"phone\":t.tel,\"time\":t.birthday,\"sex\":S[parseInt(t.gender)-1],\"nationCurrentName\":t.nation,\"details\":t.introduce,\"workItem\":t.occupations.toString(),\"are\":t.address};Q(t.province),nn(t.city),M(t.tel),an(o),U(t.introduce.length)}(0,hn.getPublishRecruitView)({\"type\":\"job\",\"infoId\":\"\"}).then(function(n){$(n)}),(0,hn.getUserAuthInfo)().then(function(n){var e=n.authData.nation.map(function(n){return n.mz_name});w(e),I(n.authData.nation)})},[]);var un=(0,pn.useState)(!1),rn=mn(un,2),sn=rn[0],cn=rn[1],fn=function getLocation(){},ln={\"area\":g,\"setArea\":function setArea(n){return v(n)},\"setAreaInfo\":function setAreaInfo(n){return F(n)},\"setPublishArea\":function setPublishArea(n){T&&$(yn({},T,{\"address\":n}))}};return Cn.Provider(ln),this.anonymousFunc0=function(n,e,t){return Nb(n,e,t)},this.anonymousFunc1=function(n){return Kb(n,\"name\")},this.anonymousFunc2=function(n){return Kb(n,\"sex\")},this.anonymousFunc3=function(n){return Kb(n,\"time\")},this.anonymousFunc4=function(n){return Kb(n,\"nationCurrentName\")},this.anonymousFunc5=function(){J(!0)},this.anonymousFunc6=function(){return function userChooseArea(){T&&dn.default.navigateTo({\"url\":\"/pages/map/resume/index\"})}()},this.anonymousFunc7=function handleLocation(n){n.stopPropagation(),console.log(3123213213),dn.default.getSetting({\"success\":function success(n){null!=n.authSetting[\"scope.userLocation\"]&&1!=n.authSetting[\"scope.userLocation\"]?dn.default.showModal({\"title\":\"是否授权当前位置\",\"content\":\"需要获取您的地理位置，请确认授权，否则将不能为你自动推荐位置\",\"success\":function success(n){n.cancel||n.confirm&&dn.default.openSetting({\"success\":function success(n){1==n.authSetting[\"scope.userLocation\"]?(dn.default.showToast({\"title\":\"授权成功\",\"icon\":\"success\",\"duration\":2e3}),fn()):dn.default.showToast({\"title\":\"授权失败\",\"icon\":\"success\",\"duration\":2e3})}})}}):fn()}})},this.anonymousFunc8=function(n){return Kb(n,\"phone\")},this.anonymousFunc9=function(n){return Kb(n,\"code\")},this.anonymousFunc10=function(){return function userSendCode(){var n=on.phone;(0,Pn.isPhone)(n)?p(n):(0,gn.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(n){return Kb(n,\"details\")},this.anonymousFunc12=function handleSubmit(){for(var n=void 0,e=0;e<A.length;e++)A[e].mz_name===on.nationCurrentName&&(n=A[e].mz_id);var t={\"code\":on.code,\"username\":on.name,\"tel\":on.phone,\"gender\":String(S.indexOf(on.sex)),\"nation\":String(n),\"birthday\":on.time,\"occupations\":on.workItem,\"province\":H,\"city\":Z,\"introduce\":on.details,\"address\":on.are};console.log(t)},D&&pn.propsManager.set({\"closeProfession\":function closeProfession(){J(!1)},\"data\":T&&T.classifyTree,\"onClickItem\":this.anonymousFunc0,\"num\":3},s,r),pn.propsManager.set({\"num\":G},l,f),Object.assign(this.__state,{\"$compid__116\":s,\"$compid__117\":l,\"showProfession\":D,\"formData\":on,\"sexList\":S,\"nationCurrent\":k,\"isCode\":sn,\"text\":m}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(n){n.stopPropagation()}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}}]),u=a=BasicsPage,a.$$events=[\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\"],a.$$componentPath=\"subpackage/pages/basics/index\",u);function BasicsPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,BasicsPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=BasicsPage.__proto__||Object.getPrototypeOf(BasicsPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"基础信息\"},t.$usedState=[\"$compid__116\",\"$compid__117\",\"showProfession\",\"formData\",\"sexList\",\"nationCurrent\",\"isCode\",\"text\"],t.customComponents=[\"Profession\",\"WordsTotal\"],_possibleConstructorReturn(t,e)}r.config={\"navigationBarTitleText\":\"基础信息\"},e.default=r,Component(t(0).default.createComponent(r,!0))},\"339\":function(n,e,t){\"use strict\";t.r(e);t(340);var o=t(120);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"340\":function(n,e,t){\"use strict\";t(214)},\"341\":function(n,e,t){}},[[339,0,1,2,3]]]);","extractedComments":[]}