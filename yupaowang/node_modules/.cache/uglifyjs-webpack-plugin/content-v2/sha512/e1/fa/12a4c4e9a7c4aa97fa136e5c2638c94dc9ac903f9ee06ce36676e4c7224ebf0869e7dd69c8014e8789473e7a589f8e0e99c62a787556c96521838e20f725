{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[67],{\"154\":function(n,e,t){\"use strict\";t.r(e);var o=t(63),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"252\":function(n,e,t){n.exports=t.p+\"pages/resume/basics/index.wxml\"},\"443\":function(n,e,t){\"use strict\";t.r(e);t(444);var o=t(154);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"444\":function(n,e,t){\"use strict\";t(252)},\"445\":function(n,e,t){},\"63\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var $n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ln=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var r,i=n[Symbol.iterator]();!(o=(r=i.next()).done)&&(t.push(r.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&i.return&&i.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,Rn=t(0),Tn=_interopRequireDefault(Rn),qn=t(1),Jn=t(3),Dn=_interopRequireDefault(Jn),En=t(9),Mn=t(351),Vn=t(8),zn=t(7),Gn=_interopRequireDefault(t(12)),Un=t(6),Hn=t(217);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(445);var r=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(BasicsPage,Tn.default.Component),o(BasicsPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(BasicsPage.prototype.__proto__||Object.getPrototypeOf(BasicsPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new Tn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,a=(0,Rn.genCompid)(o+\"$compid__127\"),u=Ln(a,2),r=u[0],i=u[1],s=(0,Rn.genCompid)(o+\"$compid__128\"),c=Ln(s,2),l=c[0],f=c[1],m=(0,Rn.useContext)(Mn.contextItem),p=m.publishArea,d=m.location,y=m.adcode,h=[],g=(0,Gn.default)(),v=g.text,_=g.userGetCode,S=(0,Rn.useState)(Vn.AREABEIJING.name),F=Ln(S,2),b=F[0],C=F[1],x=(0,Rn.useState)({\"title\":\"\",\"adcode\":\"\",\"location\":\"\",\"info\":\"\"}),k=Ln(x,2),w=(k[0],k[1]),P=(0,Rn.useState)(\"\"),O=Ln(P,2),A=O[0],I=O[1],N=[\"男\",\"女\"],j=(0,Rn.useState)([]),B=Ln(j,2),$=B[0],L=B[1],R=(0,Rn.useState)([]),T=Ln(R,2),q=T[0],J=T[1],D=(0,Rn.useState)([]),E=Ln(D,2),M=E[0],V=E[1],z=(0,Rn.useState)([]),G=Ln(z,2),U=G[0],H=G[1],W=(0,Rn.useState)(!1),K=Ln(W,2),Q=K[0],X=K[1],Y=(0,Rn.useState)(\"\"),Z=Ln(Y,2),nn=Z[0],en=Z[1],tn=(0,Rn.useState)(0),on=Ln(tn,2),an=on[0],un=on[1],rn=(0,Rn.useState)(\"\"),sn=Ln(rn,2),cn=sn[0],ln=sn[1],fn=(0,Rn.useState)(\"\"),mn=Ln(fn,2),pn=mn[0],dn=mn[1],yn=(0,Rn.useState)(\"\"),hn=Ln(yn,2),gn=hn[0],vn=hn[1],_n=(0,Rn.useState)(\"\"),Sn=Ln(_n,2),Fn=Sn[0],bn=Sn[1],Cn=(0,Rn.useState)({\"name\":\"\",\"sex\":\"\",\"time\":\"\",\"nation\":\"\",\"work\":[],\"workItem\":[],\"are\":\"\",\"phone\":\"\",\"code\":\"\",\"details\":\"\",\"classifyTree\":[],\"maxClassifyCount\":3,\"classifies\":[],\"nationCurrentName\":\"\"}),xn=Ln(Cn,2),kn=xn[0],wn=xn[1];function qc(n,e){var t=void 0;t=\"sex\"===e?N[n.detail.value]:\"nationCurrentName\"===e?$[n.detail.value]:n.detail.value,\"phone\"===e&&In(!nn||n!==nn||\"\"===n);var o=JSON.parse(JSON.stringify(kn));o[e]=t,wn(o),\"details\"===e&&un(t.length)}function rc(n){Tn.default.showModal({\"title\":\"温馨提示\",\"content\":n,\"showCancel\":!1})}(0,Rn.useDidShow)(function(){p&&d&&y&&(vn(d?d.split(\",\")[1]:\"\"),bn(d?d.split(\",\")[0]:\"\"),I(y),wn($n({},kn,{\"are\":p})))}),(0,Rn.useEffect)(function(){console.log(h,\"v\");var n=h.nation.map(function(n){return n.mz_name});L(n),J(h.nation),V(h.occupation);var e=Tn.default.getStorageSync(zn.UserLocationCity);e?C(e.city):(0,En.userAuthLoction)().then(function(n){C(n.city)}).then(function(){C(Vn.AREABEIJING.name)});var t=Tn.default.getStorageSync(zn.UserLastPublishArea);t&&w(t);var o=Tn.default.getStorageSync(\"introinfo\");if(o){var a={\"name\":o.username,\"phone\":o.tel,\"time\":o.birthday,\"sex\":N[parseInt(o.gender)-1],\"nationCurrentName\":o.nation,\"details\":o.introduce,\"workItem\":o.occupations?o.occupations:[],\"are\":o.address},u=JSON.parse(JSON.stringify(h.occupation));console.log(u,\"xxx\");var r=void 0;o.occupations_id&&(r=o.occupations_id.split(\",\"),u.map(function(n){return n.children.map(function(e){return r.map(function(n){return e.id===n&&(e.is_check=!0),n}),e}),n})),H(r),vn(o.location?o.location.split(\",\")[1]:\"\"),bn(o.location?o.location.split(\",\")[0]:\"\"),ln(o.province?o.province:\"\"),dn(o.city?o.city:\"\"),en(o.tel?o.tel:\"\"),wn(a),I(o.ad_code?o.ad_code:\"\"),un(o.introduce?o.introduce.length:0)}},[]);var Pn=(0,Rn.useState)(!1),On=Ln(Pn,2),An=On[0],In=On[1],Nn=function getLocation(){(0,En.recSerAuthLoction)().then(function(n){jn(n)}).catch(function(){Tn.default.setStorageSync(zn.UserListChooseCity,Vn.AREACHINA)})},jn=function resetLocationSearch(n){wn($n({},kn,{\"are\":n[0].name})),vn(n[0].latitude),bn(n[0].longitude),I(n[0].regeocodeData.addressComponent.adcode)};console.log(M,\"xxx\"),this.anonymousFunc0=function(n,e,t,o){return function userClickProfession(n,e,t,o){if(console.log(n,e,t,o),console.log(U,\"clickOccupation\"),M){var a=JSON.parse(JSON.stringify(M)),u=a[n].children[e].is_check;if(console.log(a),!u&&3<=(U?U.length:0))return void(0,Dn.default)(\"工种最多可以选择3个\");a[n].children[e].is_check=!u;var r=JSON.parse(JSON.stringify(U||[])),i=u?r.filter(function(n){return n!==t}):[].concat(_toConsumableArray(r),[t]),s=u?kn.workItem.filter(function(n){return n!==o}):[].concat(_toConsumableArray(kn.workItem),[o]);wn($n({},kn,{\"workItem\":s})),V(a),console.log(i,\"xxxx\"),H(i)}}(n,e,t,o)},this.anonymousFunc1=function(n){return qc(n,\"name\")},this.anonymousFunc2=function(n){return qc(n,\"sex\")},this.anonymousFunc3=function(n){return qc(n,\"time\")},this.anonymousFunc4=function(n){return qc(n,\"nationCurrentName\")},this.anonymousFunc5=function(){X(!0)};var Bn=kn&&kn.workItem.toString();return this.anonymousFunc6=function(){return function userChooseArea(){if(b){var n=\"/pages/map/resume/index?areaItem=\"+b;Tn.default.navigateTo({\"url\":n})}}()},this.anonymousFunc7=function handleLocation(n){n.stopPropagation(),Tn.default.getSetting({\"success\":function success(n){null!=n.authSetting[\"scope.userLocation\"]&&1!=n.authSetting[\"scope.userLocation\"]?Tn.default.showModal({\"title\":\"是否授权当前位置\",\"content\":\"需要获取您的地理位置，请确认授权，否则将不能为你自动推荐位置\",\"success\":function success(n){n.cancel||n.confirm&&Tn.default.openSetting({\"success\":function success(n){1==n.authSetting[\"scope.userLocation\"]?(Tn.default.showToast({\"title\":\"授权成功\",\"icon\":\"success\",\"duration\":2e3}),Nn()):Tn.default.showToast({\"title\":\"授权失败\",\"icon\":\"success\",\"duration\":2e3})}})}}):Nn()}})},this.anonymousFunc8=function(n){return qc(n,\"phone\")},this.anonymousFunc9=function(n){return qc(n,\"code\")},this.anonymousFunc10=function(){return function userSendCode(){var n=kn.phone;(0,Un.isPhone)(n)?_(n):(0,Dn.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(n){return qc(n,\"details\")},this.anonymousFunc12=function handleSubmit(){for(var n=void 0,e=0;e<q.length;e++)q[e].mz_name===kn.nationCurrentName&&(n=q[e].mz_id);if((0,Un.isVaildVal)(kn.name,2,5))if(kn.sex)if(kn.time)if(n)if(U)if(kn.are)if(kn.phone)if(!An||kn.code)if((0,Un.isVaildVal)(kn.details,15,500)){var t={\"code\":kn.code,\"username\":kn.name,\"tel\":kn.phone,\"gender\":String(N.indexOf(kn.sex)+1),\"nation\":String(n),\"birthday\":kn.time,\"occupations\":U,\"province\":cn,\"city\":pn,\"introduce\":kn.details,\"lat\":String(gn),\"lng\":String(Fn),\"address\":kn.are,\"adcode\":A};(0,qn.addResumeAction)(t).then(function(n){\"200\"==n.errcode?(0,Hn.SubscribeToNews)(\"resume\",function(){(0,Jn.SubPopup)({\"tips\":n.errmsg,\"callback\":function callback(){Tn.default.navigateBack({\"delta\":1})}})}):(0,Jn.SubPopup)({\"tips\":n.errmsg})})}else rc(\"请填写真实自我介绍，15-500字，必须含有汉字\");else rc(\"请正确填写验证码\");else rc(\"请选择您的工种\");else(0,Dn.default)(\"请选择地区\");else rc(\"请选择您的工种\");else(0,Dn.default)(\"请选择名族\");else(0,Dn.default)(\"请选择出生日期\");else(0,Dn.default)(\"请选择性别\");else rc(\"请填写真实姓名，2-5字，必须含有汉字\")},Q&&Rn.propsManager.set({\"closeProfession\":function closeProfession(){X(!1)},\"data\":M,\"onClickItem\":this.anonymousFunc0,\"num\":3},i,r),Rn.propsManager.set({\"num\":an},f,l),Object.assign(this.__state,{\"anonymousState__temp\":Bn,\"$compid__127\":i,\"$compid__128\":f,\"showProfession\":Q,\"formData\":kn,\"sexList\":N,\"nationCurrent\":$,\"isCode\":An,\"text\":v}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(n){n.stopPropagation()}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}}]),u=a=BasicsPage,a.$$events=[\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\"],a.$$componentPath=\"pages/resume/basics/index\",u);function BasicsPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,BasicsPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=BasicsPage.__proto__||Object.getPrototypeOf(BasicsPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"基础信息\"},t.$usedState=[\"anonymousState__temp\",\"$compid__127\",\"$compid__128\",\"showProfession\",\"formData\",\"sexList\",\"nationCurrent\",\"isCode\",\"text\"],t.customComponents=[\"Profession\",\"WordsTotal\"],_possibleConstructorReturn(t,e)}r.config={\"navigationBarTitleText\":\"基础信息\"},e.default=r,Component(t(0).default.createComponent(r,!0))}},[[443,0,1,2,3]]]);","extractedComments":[]}