{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[67],{\"154\":function(n,e,t){\"use strict\";t.r(e);var o=t(64),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"254\":function(n,e,t){n.exports=t.p+\"pages/resume/basics/index.wxml\"},\"446\":function(n,e,t){\"use strict\";t.r(e);t(447);var o=t(154);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"447\":function(n,e,t){\"use strict\";t(254)},\"448\":function(n,e,t){},\"64\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var In=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},jn=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var i,r=n[Symbol.iterator]();!(o=(i=r.next()).done)&&(t.push(i.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&r.return&&r.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,Bn=t(0),Jn=_interopRequireDefault(Bn),$n=t(1),Rn=t(3),Tn=_interopRequireDefault(Rn),Ln=t(9),Dn=t(354),En=t(8),Mn=t(7),qn=_interopRequireDefault(t(13)),Vn=t(4),zn=t(6),Gn=t(11);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(448);var i=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(BasicsPage,Jn.default.Component),o(BasicsPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(BasicsPage.prototype.__proto__||Object.getPrototypeOf(BasicsPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new Jn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,a=(0,Bn.genCompid)(o+\"$compid__127\"),u=jn(a,2),i=u[0],r=u[1],s=(0,Bn.genCompid)(o+\"$compid__128\"),c=jn(s,2),l=c[0],f=c[1],m=(0,Vn.useSelector)(function(n){return n});console.log(m,\"dadasd\");var p=(0,Bn.useContext)(Dn.contextItem),d=p.publishArea,y=p.location,h=p.adcode,g=(0,qn.default)(),v=g.text,_=g.userGetCode,S=(0,Bn.useState)(En.AREABEIJING.name),F=jn(S,2),b=F[0],x=F[1],C=(0,Bn.useState)(\"\"),P=jn(C,2),k=P[0],w=P[1],O=[\"男\",\"女\"],A=(0,Bn.useState)([]),N=jn(A,2),I=N[0],j=N[1],B=(0,Bn.useState)([]),J=jn(B,2),$=J[0],R=J[1],T=(0,Bn.useState)([]),L=jn(T,2),D=L[0],E=L[1],M=(0,Bn.useState)([]),q=jn(M,2),V=q[0],z=q[1],G=(0,Bn.useState)(!1),U=jn(G,2),H=U[0],W=U[1],K=(0,Bn.useState)(\"\"),Q=jn(K,2),X=Q[0],Y=Q[1],Z=(0,Bn.useState)(0),nn=jn(Z,2),en=nn[0],tn=nn[1],on=(0,Bn.useState)(\"\"),an=jn(on,2),un=an[0],rn=an[1],sn=(0,Bn.useState)(\"\"),cn=jn(sn,2),ln=cn[0],fn=cn[1],mn=(0,Bn.useState)(\"\"),pn=jn(mn,2),dn=pn[0],yn=pn[1],hn=(0,Bn.useState)(\"\"),gn=jn(hn,2),vn=gn[0],_n=gn[1],Sn=(0,Bn.useState)({\"name\":\"\",\"sex\":\"\",\"time\":\"\",\"nation\":\"\",\"work\":[],\"workItem\":[],\"are\":\"\",\"phone\":\"\",\"code\":\"\",\"details\":\"\",\"classifyTree\":[],\"maxClassifyCount\":3,\"classifies\":[],\"nationCurrentName\":\"\"}),Fn=jn(Sn,2),bn=Fn[0],xn=Fn[1];function nc(n,e){var t=void 0;t=\"sex\"===e?O[n.detail.value]:\"nationCurrentName\"===e?I[n.detail.value]:n.detail.value,\"phone\"===e&&wn(!X||n!==X||\"\"===n);var o=JSON.parse(JSON.stringify(bn));o[e]=t,xn(o),\"details\"===e&&tn(t.length)}function oc(n){Jn.default.showModal({\"title\":\"温馨提示\",\"content\":n,\"showCancel\":!1})}(0,Bn.useEffect)(function(){console.log(m,\"xxx111\");var n=JSON.parse(JSON.stringify(m.Personnel));if(m.Personnel){console.log(m);var e=n.nation.length&&n.nation.map(function(n){return n.mz_name});j(e),R(n.nation),E(n.occupation)}var t=Jn.default.getStorageSync(Mn.UserLocationCity);t?x(t.city):(0,Ln.userAuthLoction)().then(function(n){x(n.city)}).then(function(){x(En.AREABEIJING.name)});var o=Jn.default.getStorageSync(\"introinfo\");if(o){if(d&&y&&h)return;var a={\"name\":o.username,\"phone\":o.tel,\"time\":o.birthday,\"sex\":O[parseInt(o.gender)-1],\"nationCurrentName\":o.nation,\"details\":o.introduce,\"workItem\":o.occupations?o.occupations:[],\"are\":o.address},u=JSON.parse(JSON.stringify(m.Personnel.occupation));console.log(u,\"xxx\");var i=void 0,r=void 0;o.occupations_id&&(i=o.occupations_id.split(\",\"),r=u.map(function(n){return n.children.map(function(e){return i.map(function(n){return e.id===n&&(e.is_check=!0),n}),e}),n})),E(r),z(i),yn(o.location?o.location.split(\",\")[1]:\"\"),_n(o.location?o.location.split(\",\")[0]:\"\"),rn(o.province?o.province:\"\"),fn(o.city?o.city:\"\"),Y(o.tel?o.tel:\"\"),xn(a),w(o.ad_code?o.ad_code:\"\"),tn(o.introduce?o.introduce.length:0)}},[]),(0,Bn.useDidShow)(function(){console.log(d,y,h),d&&y&&h&&(yn(y?y.split(\",\")[1]:\"\"),_n(y?y.split(\",\")[0]:\"\"),w(h),xn(In({},bn,{\"are\":d})),x(d))});var Cn=(0,Bn.useState)(!1),Pn=jn(Cn,2),kn=Pn[0],wn=Pn[1],On=function getLocation(){(0,Ln.recSerAuthLoction)().then(function(n){An(n)}).catch(function(){Jn.default.setStorageSync(Mn.UserListChooseCity,En.AREACHINA)})},An=function resetLocationSearch(n){xn(In({},bn,{\"are\":n[0].name})),yn(n[0].latitude),_n(n[0].longitude),w(n[0].regeocodeData.addressComponent.adcode)};console.log(D,\"xxx\"),this.anonymousFunc0=function(n,e,t,o){return function userClickProfession(n,e,t,o){if(console.log(n,e,t,o),console.log(V,\"clickOccupation\"),D){var a=JSON.parse(JSON.stringify(D)),u=a[n].children[e].is_check;if(console.log(a),!u&&3<=(V?V.length:0))return void(0,Tn.default)(\"工种最多可以选择3个\");a[n].children[e].is_check=!u;var i=JSON.parse(JSON.stringify(V||[])),r=u?i.filter(function(n){return n!==t}):[].concat(_toConsumableArray(i),[t]),s=u?bn.workItem.filter(function(n){return n!==o}):[].concat(_toConsumableArray(bn.workItem),[o]);xn(In({},bn,{\"workItem\":s})),E(a),console.log(r,\"xxxx\"),z(r)}}(n,e,t,o)},this.anonymousFunc1=function(n){return nc(n,\"name\")},this.anonymousFunc2=function(n){return nc(n,\"sex\")},this.anonymousFunc3=function(n){return nc(n,\"time\")},this.anonymousFunc4=function(n){return nc(n,\"nationCurrentName\")},this.anonymousFunc5=function(){W(!0)};var Nn=bn&&bn.workItem.toString();return this.anonymousFunc6=function(){return function userChooseArea(){if(b){var n=\"/pages/map/resume/index?areaItem=\"+b;Jn.default.navigateTo({\"url\":n})}}()},this.anonymousFunc7=function handleLocation(n){n.stopPropagation(),Jn.default.getSetting({\"success\":function success(n){null!=n.authSetting[\"scope.userLocation\"]&&1!=n.authSetting[\"scope.userLocation\"]?Jn.default.showModal({\"title\":\"是否授权当前位置\",\"content\":\"需要获取您的地理位置，请确认授权，否则将不能为你自动推荐位置\",\"success\":function success(n){n.cancel||n.confirm&&Jn.default.openSetting({\"success\":function success(n){1==n.authSetting[\"scope.userLocation\"]?(Jn.default.showToast({\"title\":\"授权成功\",\"icon\":\"success\",\"duration\":2e3}),On()):Jn.default.showToast({\"title\":\"授权失败\",\"icon\":\"success\",\"duration\":2e3})}})}}):On()}})},this.anonymousFunc8=function(n){return nc(n,\"phone\")},this.anonymousFunc9=function(n){return nc(n,\"code\")},this.anonymousFunc10=function(){return function userSendCode(){var n=bn.phone;(0,zn.isPhone)(n)?_(n):(0,Tn.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(n){return nc(n,\"details\")},this.anonymousFunc12=function handleSubmit(){for(var n=void 0,e=0;e<$.length;e++)$[e].mz_name===bn.nationCurrentName&&(n=$[e].mz_id);if((0,zn.isVaildVal)(bn.name,2,5))if(bn.sex)if(bn.time)if(n)if(V)if(bn.are)if(bn.phone)if(!kn||bn.code)if((0,zn.isVaildVal)(bn.details,15,500)){var t={\"code\":bn.code,\"username\":bn.name,\"tel\":bn.phone,\"gender\":String(O.indexOf(bn.sex)+1),\"nation\":String(n),\"birthday\":bn.time,\"occupations\":V,\"province\":un,\"city\":ln,\"introduce\":bn.details,\"lat\":String(dn),\"lng\":String(vn),\"address\":bn.are,\"adcode\":k};(0,$n.addResumeAction)(t).then(function(n){\"200\"==n.errcode?(0,Gn.SubscribeToNews)(\"resume\",function(){(0,Rn.SubPopup)({\"tips\":n.errmsg,\"callback\":function callback(){Jn.default.navigateBack({\"delta\":1})}})}):(0,Rn.SubPopup)({\"tips\":n.errmsg})})}else oc(\"请填写真实自我介绍，15-500字，必须含有汉字\");else oc(\"请正确填写验证码\");else oc(\"请选择您的工种\");else(0,Tn.default)(\"请选择地区\");else oc(\"请选择您的工种\");else(0,Tn.default)(\"请选择名族\");else(0,Tn.default)(\"请选择出生日期\");else(0,Tn.default)(\"请选择性别\");else oc(\"请填写真实姓名，2-5字，必须含有汉字\")},H&&Bn.propsManager.set({\"closeProfession\":function closeProfession(){W(!1)},\"data\":D,\"onClickItem\":this.anonymousFunc0,\"num\":3},r,i),Bn.propsManager.set({\"num\":en},f,l),Object.assign(this.__state,{\"anonymousState__temp\":Nn,\"$compid__127\":r,\"$compid__128\":f,\"showProfession\":H,\"formData\":bn,\"sexList\":O,\"nationCurrent\":I,\"isCode\":kn,\"text\":v}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(n){n.stopPropagation()}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}}]),u=a=BasicsPage,a.$$events=[\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\"],a.$$componentPath=\"pages/resume/basics/index\",u);function BasicsPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,BasicsPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=BasicsPage.__proto__||Object.getPrototypeOf(BasicsPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"基础信息\"},t.$usedState=[\"anonymousState__temp\",\"$compid__127\",\"$compid__128\",\"showProfession\",\"formData\",\"sexList\",\"nationCurrent\",\"isCode\",\"text\"],t.customComponents=[\"Profession\",\"WordsTotal\"],_possibleConstructorReturn(t,e)}i.config={\"navigationBarTitleText\":\"基础信息\"},e.default=i,Component(t(0).default.createComponent(i,!0))}},[[446,0,1,2,3]]]);","extractedComments":[]}