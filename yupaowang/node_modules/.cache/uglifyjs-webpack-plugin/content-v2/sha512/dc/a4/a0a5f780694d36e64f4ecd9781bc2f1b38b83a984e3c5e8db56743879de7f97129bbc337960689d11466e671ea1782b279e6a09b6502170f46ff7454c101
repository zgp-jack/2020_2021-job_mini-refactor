{"code":"(swan.webpackJsonp=swan.webpackJsonp||[]).push([[4],{\"215\":function(n,t,e){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var z=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,t){var e=[],r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done)&&(e.push(o.value),!t||e.length!==t);r=!0);}catch(n){i=!0,a=n}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return e}(n,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},r=function(n,t,e){return t&&defineProperties(n.prototype,t),e&&defineProperties(n,e),n};function defineProperties(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var E=e(0),T=_interopRequireDefault(E),L=e(2),H=e(7),N=_interopRequireDefault(e(8)),U=e(9);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}e(216);var i=(function _inherits(n,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);n.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(Cities,T.default.Component),r(Cities,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,t,e){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,t);if(void 0===r){var i=Object.getPrototypeOf(n);return null===i?void 0:get(i,t,e)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(e):void 0})(Cities.prototype.__proto__||Object.getPrototypeOf(Cities.prototype),\"_constructor\",this).call(this,n),this.$$refs=new T.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,t,e){var a=this;function Aa(n){var t=T.default.getStorageSync(H.HistoryCities);if(t){var e=n.id,r=t.findIndex(function(n){return n.id===e});-1!==r&&t.splice(r,1),t.unshift(n),t.splice(L.MAXCACHECITYNUM)}else t=[n];T.default.setStorageSync(H.HistoryCities,t),p&&p(n.city),c(!1)}this.__state=n||this.state||{},this.__props=t||this.props||{},this.$prefix;var r=this.__props,i=r.data,o=void 0===i?[]:i,u=r.parent,s=void 0!==u&&u,c=r.userTapCityBtn,p=r.userChangeCity,l=r.area,y=r.userLoc,f=(0,E.useState)([]),m=z(f,2),v=m[0],_=m[1],d=(0,E.useState)(!1),h=z(d,2),g=h[0],C=h[1],F=(0,E.useState)(\"\"),O=z(F,2),b=O[0],M=O[1],A=(0,E.useState)([]),w=z(A,2),S=w[0],j=w[1],k=(0,E.useState)([]),P=z(k,2),x=P[0],$=P[1];(0,E.useEffect)(function(){!function userRecentlyCities(){var n=T.default.getStorageSync(H.HistoryCities);if(n&&y.id)return n.splice(L.MAXCACHECITYNUM-1),_(n);_([])}();var n=(0,U.objDeepCopy)(N.default),a=[];n.shift(),n.map(function(n){if(n.has_children){for(var t=n.children,e=0;e<t.length;e++)if(s||0!==e){var r={\"id\":t[e].id,\"pid\":t[e].pid,\"city\":t[e].name,\"ad_name\":t[e].ad_name,\"city_name\":n.name+\"-\"+t[e].name};a.push(r)}}else{var i={\"id\":n.id,\"pid\":n.pid,\"city\":n.name,\"ad_name\":n.ad_name,\"city_name\":n.name};a.push(i)}}),j(a),$(a)},[]),this.anonymousFunc0=function(){return function onInputFocus(){C(!0)}()},this.anonymousFunc1=function(n){return function userEnterCity(n){var t=n.detail.value;M(t);var e=x.filter(function(n){return-1!==n.city_name.indexOf(t)});j(e)}(n)},this.anonymousFunc2=function(){return function userClearContent(){M(\"\"),C(!1)}()},this.anonymousFunc3=function(){return c(!1)};var D=v.map(function(n,t){var e=\"rec\"+(n={\"privateOriginal\":(0,E.internal_get_original)(n)}).privateOriginal.id,r=\"cdzzz\"+t;return a.anonymousFunc4Map[r]=function(){return Aa(n.privateOriginal)},{\"loopState__temp2\":e,\"_$indexKey\":r,\"privateOriginal\":n.privateOriginal}}),I=o.map(function(n,i){return n={\"privateOriginal\":(0,E.internal_get_original)(n)},{\"loopState__temp4\":i+n.privateOriginal[0].id,\"anonymousCallee__6\":n.privateOriginal.map(function(n,t){var e=t+(n={\"privateOriginal\":(0,E.internal_get_original)(n)}).privateOriginal.id,r=\"cezzz\"+i+\"-\"+t;return a.anonymousFunc5Map[r]=function(){return Aa(n.privateOriginal)},{\"loopState__temp6\":e,\"_$indexKey2\":r,\"privateOriginal\":n.privateOriginal}}),\"privateOriginal\":n.privateOriginal}}),R=g?S.map(function(n,t){n={\"privateOriginal\":(0,E.internal_get_original)(n)};var e=\"cfzzz\"+t;return a.anonymousFunc6Map[e]=function(){return function userTapInputCity(n){C(!1),delete n.city_name,Aa(n)}(n.privateOriginal)},{\"_$indexKey3\":e,\"privateOriginal\":n.privateOriginal}}):[];return Object.assign(this.__state,{\"loopArray23\":D,\"loopArray24\":I,\"loopArray25\":R,\"text\":b,\"IMGCDNURL\":L.IMGCDNURL,\"userLoc\":y,\"recentlyCities\":v,\"data\":o,\"show\":g,\"inputCity\":S,\"area\":l}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(n){for(var t,e=arguments.length,r=Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return this.anonymousFunc4Map[n]&&(t=this.anonymousFunc4Map)[n].apply(t,r)}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(n){for(var t,e=arguments.length,r=Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return this.anonymousFunc5Map[n]&&(t=this.anonymousFunc5Map)[n].apply(t,r)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(n){for(var t,e=arguments.length,r=Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return this.anonymousFunc6Map[n]&&(t=this.anonymousFunc6Map)[n].apply(t,r)}}]),Cities);function Cities(){!function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Cities);var n=function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?n:t}(this,(Cities.__proto__||Object.getPrototypeOf(Cities)).apply(this,arguments));return n.$usedState=[\"loopArray23\",\"loopArray24\",\"loopArray25\",\"text\",\"IMGCDNURL\",\"userLoc\",\"recentlyCities\",\"data\",\"show\",\"inputCity\",\"area\",\"parent\",\"userTapCityBtn\",\"userChangeCity\"],n.anonymousFunc4Map={},n.anonymousFunc5Map={},n.anonymousFunc6Map={},n.customComponents=[],n}i.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\"],i.$$componentPath=\"components/citys/index\",t.default=i,Component(e(0).default.createComponent(i))},\"216\":function(n,t,e){}},[[215,0,1]]]);","extractedComments":[]}