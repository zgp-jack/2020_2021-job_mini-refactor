{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[41],{\"150\":function(n,e,t){\"use strict\";t.r(e);var o=t(60),a=t.n(o);for(var u in o)\"default\"!==u&&function(n){t.d(e,n,function(){return o[n]})}(u);e.default=a.a},\"247\":function(n,e,t){n.exports=t.p+\"pages/detail/info/index.wxml\"},\"427\":function(n,e,t){\"use strict\";t.r(e);t(428);var o=t(150);for(var a in o)\"default\"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a)},\"428\":function(n,e,t){\"use strict\";t(247)},\"429\":function(n,e,t){},\"60\":function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0});var dn=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,u=void 0;try{for(var i,r=n[Symbol.iterator]();!(o=(i=r.next()).done)&&(t.push(i.value),!e||t.length!==e);o=!0);}catch(n){a=!0,u=n}finally{try{!o&&r.return&&r.return()}finally{if(a)throw u}}return t}(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n};function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var a,u,yn=t(0),pn=_interopRequireDefault(yn),_n=t(1),hn=t(2),gn=t(6),Fn=t(5),vn=_interopRequireDefault(t(3)),bn=t(7);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?n:e}t(429);var i=(function _inherits(n,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);n.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(DetailInfoPage,pn.default.Component),o(DetailInfoPage,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if(\"value\"in o)return o.value;var u=o.get;return void 0!==u?u.call(t):void 0})(DetailInfoPage.prototype.__proto__||Object.getPrototypeOf(DetailInfoPage.prototype),\"_constructor\",this).call(this,n),this.$$refs=new pn.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,e,t){var a=this;this.__state=n||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,u=(0,yn.genCompid)(o+\"$compid__119\"),i=dn(u,2),r=i[0],s=i[1],c=(0,yn.useRouter)().params.id,l=pn.default.getStorageSync(bn.UserInfo),f=(0,yn.useState)({\"title\":\"\",\"time\":\"\",\"image\":\"\",\"user_name\":\"\",\"classifyName\":[],\"detail\":\"\",\"show_full_address\":\"\",\"location\":\"\",\"map_address_name\":\"\",\"map_street_name\":\"\",\"tel_str\":\"\",\"show_ajax_btn\":!1,\"id\":0,\"is_collect\":0,\"view_images\":[],\"is_end\":0,\"is_check\":0,\"has_top\":0,\"show_complaint\":{\"show_complaint\":0,\"tips_message\":\"\"},\"top_info\":{\"is_top\":\"\"}}),m=dn(f,2),d=m[0],y=m[1],p=(0,yn.useState)(!1),_=dn(p,2),h=_[0],g=_[1],F=(0,yn.useState)(\"\"),v=dn(F,2),b=v[0],w=v[1],k=(0,yn.useState)(!1),x=dn(k,2),S=x[0],C=x[1],j=(0,yn.useState)(0),I=dn(j,2),P=I[0],O=I[1],T=(0,yn.useState)(\"\"),$=dn(T,2),D=$[0],R=$[1],M=(0,yn.useState)(!1),A=dn(M,2),N=A[0],E=A[1],L=(0,yn.useState)(!1),U=dn(L,2),V=U[0],B=U[1],G=(0,yn.useState)(!1),q=dn(G,2),H=q[0],z=(q[1],(0,yn.useState)(\"\")),J=dn(z,2),K=J[0],W=J[1],Q=(0,yn.useState)(!1),X=dn(Q,2),Y=X[0],Z=X[1],nn=(0,yn.useState)(!0),en=dn(nn,2),tn=en[0],on=en[1],an=(0,gn.useSelector)(function(n){return n.User.login}),un=(0,yn.useState)([]),rn=dn(un,2),sn=rn[0],cn=rn[1];function Ob(n){pn.default.navigateTo({\"url\":n})}function Rb(){var n={\"type\":\"job\",\"infoId\":d.id};(0,_n.jobGetTelAction)(n).then(function(n){\"ok\"===n.errcode&&(C(!0),W(n.tel),Z(!0),on(!1))})}function Sb(){\"end\"===D?pn.default.showModal({\"title\":\"温馨提示\",\"content\":\"该招工信息已招到，暂时不能投诉\",\"showCancel\":!1}):V?pn.default.showModal({\"title\":\"提示\",\"content\":\"您已投诉该信息，请勿重复操作！\",\"showCancel\":!1}):Y?g(!0):d.show_ajax_btn?(0,vn.default)(\"请查看完整的手机号码后再操作！\"):2!==d.is_end&&d.show_complaint.show_complaint?g(!0):pn.default.showModal({\"title\":\"提示\",\"content\":\"您已投诉该信息，请勿重复投诉！\",\"showCancel\":!1})}function Vb(){(0,_n.jobEndStatusAction)(d.id).then(function(n){\"ok\"===n.errcode?(console.log(N),console.log(d.is_end,\"xxx\"),(0,vn.default)(n.errmsg),E(!1),C(!0)):(0,vn.default)(n.errmsg)})}(0,yn.useDidShow)(function(){S?C(!1):(console.log(1111),ln())});var ln=function getRecruitInfo(){var n={\"type\":\"job\",\"infoId\":c};an?(0,_n.jobInfoAction)(n).then(function(n){var e={\"page\":1,\"type\":1,\"area_id\":n.result.city_id,\"job_ids\":n.result.id,\"classify_id\":[n.result.occupations].join(\",\")};(0,_n.jobRecommendListAction)(e).then(function(n){console.log(n,\"xxxxx\"),cn(n.data.list)}),C(!1),y(n.result),W(n.result.tel_str),on(n.result.show_ajax_btn),pn.default.setNavigationBarTitle({\"title\":n.result.title}),O(n.result.is_collect),l.userId===n.result.user_id?R(\"own\"):R(n.errcode)}):(0,_n.jobNoUserInfoAction)(n).then(function(n){C(!1),y(n.result),W(n.result.tel_str),on(n.result.show_ajax_btn),pn.default.setNavigationBarTitle({\"title\":n.result.title}),O(n.result.is_collect),l.userId===n.result.user_id?R(\"own\"):R(n.errcode)})};this.anonymousFunc0=function(){return Rb()},this.anonymousFunc1=function(){pn.default.makePhoneCall({\"phoneNumber\":K})},this.anonymousFunc2=Sb,this.anonymousFunc3=function(){return Ob(\"/subpackage/pages/anti-fraud/index\")},this.anonymousFunc4=function(){return Ob(\"/subpackage/pages/notice/index?id=32\")},this.anonymousFunc6=function handleMap(){var n=d.location.split(\",\");C(!0),pn.default.openLocation({\"latitude\":parseFloat(n[1]),\"longitude\":parseFloat(n[0]),\"name\":d.map_address_name,\"address\":d.map_street_name,\"scale\":18})},this.anonymousFunc7=function(){return Ob(\"/subpackage/pages/download/index\")},this.anonymousFunc8=Vb,this.anonymousFunc9=function(){return Ob(\"/pages/topping/index?id=\"+d.id+\"&type=1\")},this.anonymousFunc10=Vb,this.anonymousFunc11=function(){return function handleTopping(n){if(n.has_top){var e=parseInt(n.top_info.end_time);if((new Date).getTime()/1e3<e){pn.default.showLoading({\"title\":\"正在执行操作\"});var t={\"infoId\":c,\"status\":\"0\"==n.toping?\"1\":\"0\"};return(0,_n.jobUpdateTopStatusAction)(t).then(function(n){if(\"ok\"===n.errcode)console.log(n),(0,vn.default)(n.errmsg),C(!0),E(!0);else{if(\"auth_forbid\"===n.errcode)return void pn.default.showModal({\"title\":\"温馨提示\",\"content\":n.errmsg,\"cancelText\":\"取消\",\"confirmText\":\"去实名\",\"success\":function success(n){n.confirm&&pn.default.navigateTo({\"url\":\"/pages/realname/index?backtwo=backtwo\"})}});if(\"member_forbid\"==n.errcode)return void pn.default.showModal({\"title\":\"温馨提示\",\"content\":\"mydata.errmsg\",\"cancelText\":\"取消\",\"confirmText\":\"联系客服\",\"success\":function success(n){if(n.confirm){var e=hn.SERVERPHONE;pn.default.makePhoneCall({\"phoneNumber\":e})}}});pn.default.showToast({\"title\":n.errmsg,\"icon\":\"none\",\"duration\":1500})}}),!1}}Ob(\"/pages/topping/index?id=\"+n.id)}(d)},this.anonymousFunc12=function collection(){(0,_n.recruitListCancelCollectionAction)(d.id.toString()).then(function(n){\"add\"===n.action?O(1):O(0)})},this.anonymousFunc13=Sb,this.anonymousFunc14=function(){return Rb()},this.anonymousFunc15=function(){pn.default.makePhoneCall({\"phoneNumber\":d.tel_str})},this.anonymousFunc16=function(n){return function handleTextarea(n){var e=n.detail.value;w(e)}(n)},this.anonymousFunc17=function(){g(!1)},this.anonymousFunc18=function(){return function handleSubmit(){if(!(0,Fn.isVaildVal)(b,15,500))return(0,vn.default)(\"输入内容不少于15个字且必须包含文字\"),!1;var n={\"content\":b,\"type\":\"job\",\"infoId\":d.id};(0,_n.publishComplainAction)(n).then(function(){(0,vn.default)(\"提交成功\"),g(!1),B(!0)})}()};var fn=d.classifyName.map(function(n,e){return{\"$loopState__temp2\":e+e,\"$original\":(n={\"$original\":(0,yn.internal_get_original)(n)}).$original}}),mn=0<d.view_images.length?d.view_images.map(function(n,e){n={\"$original\":(0,yn.internal_get_original)(n)};var t=0<d.view_images.length?e+e:null,o=\"bdezz\"+e;return a.anonymousFunc5Map[o]=function(){return function handleImage(n){C(!0),pn.default.previewImage({\"current\":n,\"urls\":[n]})}(n.$original)},{\"$loopState__temp4\":t,\"_$indexKey\":o,\"$original\":n.$original}}):[];return yn.propsManager.set({\"data\":sn,\"type\":1},s,r),Object.assign(this.__state,{\"data\":d,\"loopArray139\":fn,\"loopArray140\":mn,\"$compid__119\":s,\"resCode\":D,\"editPhone\":tn,\"IMGCDNURL\":hn.IMGCDNURL,\"again\":H,\"stopHiring\":N,\"isCollection\":P,\"complaintModal\":h,\"textarea\":b,\"phone\":K}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(n){for(var e,t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return this.anonymousFunc5Map[n]&&(e=this.anonymousFunc5Map)[n].apply(e,o)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}},{\"key\":\"anonymousFunc13\",\"value\":function anonymousFunc13(){}},{\"key\":\"anonymousFunc14\",\"value\":function anonymousFunc14(){}},{\"key\":\"anonymousFunc15\",\"value\":function anonymousFunc15(){}},{\"key\":\"anonymousFunc16\",\"value\":function anonymousFunc16(){}},{\"key\":\"anonymousFunc17\",\"value\":function anonymousFunc17(){}},{\"key\":\"anonymousFunc18\",\"value\":function anonymousFunc18(){}}]),u=a=DetailInfoPage,a.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\",\"anonymousFunc13\",\"anonymousFunc14\",\"anonymousFunc15\",\"anonymousFunc16\",\"anonymousFunc17\",\"anonymousFunc18\"],a.$$componentPath=\"pages/detail/info/index\",u);function DetailInfoPage(){var n,e,t;!function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,DetailInfoPage);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return(e=t=_possibleConstructorReturn(this,(n=DetailInfoPage.__proto__||Object.getPrototypeOf(DetailInfoPage)).call.apply(n,[this].concat(a)))).config={\"navigationBarTitleText\":\"\"},t.$usedState=[\"data\",\"loopArray139\",\"loopArray140\",\"$compid__119\",\"resCode\",\"editPhone\",\"IMGCDNURL\",\"again\",\"stopHiring\",\"isCollection\",\"complaintModal\",\"textarea\",\"phone\"],t.anonymousFunc5Map={},t.customComponents=[\"WechatNotice\",\"CollectionRecruitList\"],_possibleConstructorReturn(t,e)}i.config={\"navigationBarTitleText\":\"\"},e.default=i,Component(t(0).default.createComponent(i,!0))}},[[427,0,1,2,3]]]);","extractedComments":[]}