{"code":"(swan.webpackJsonp=swan.webpackJsonp||[]).push([[70],{\"153\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});var ce=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw u}}return t}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},r=function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e};function defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var le=t(0),fe=_interopRequireDefault(le),pe=_interopRequireDefault(t(8)),de=t(4),ye=t(3),me=_interopRequireDefault(ye),he=t(10),ve=t(1);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}t(154);var o=(function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(PersonInfo,fe.default.Component),r(PersonInfo,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,n,t){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,n,t)}if(\"value\"in r)return r.value;var u=r.get;return void 0!==u?u.call(t):void 0})(PersonInfo.prototype.__proto__||Object.getPrototypeOf(PersonInfo.prototype),\"_constructor\",this).call(this,e),this.$$refs=new fe.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(e,n,t){var r=this;this.__state=e||this.state||{},this.__props=n||this.props||{},this.$prefix;var F=(0,le.useRouter)().params.type,I=(0,de.useSelector)(function(e){return e}),o=(0,le.useState)({\"age\":\"\",\"proficiency\":\"\",\"personnel\":\"\",\"address\":\"\",\"type\":\"1\"}),u=ce(o,2),a=u[0],w=u[1],i=(0,le.useState)([0,0]),s=ce(i,2),c=s[0],M=s[1],l=(0,le.useState)([]),f=ce(l,2),p=f[0],x=f[1],d=(0,le.useState)(\"\"),y=ce(d,2),m=y[0],P=y[1],h=(0,le.useState)([]),v=ce(h,2),g=v[0],k=v[1],_=(0,le.useState)([]),b=ce(_,2),O=b[0],J=b[1],S=(0,le.useState)(0),N=ce(S,2),j=N[0],A=N[1],C=(0,le.useState)([]),$=ce(C,2),D=$[0],T=$[1],R=(0,le.useState)([]),E=ce(R,2),q=E[0],z=E[1],B=(0,le.useState)([]),K=ce(B,2),G=K[0],H=K[1],L=(0,le.useState)([]),Q=ce(L,2),U=Q[0],V=Q[1],W=(0,le.useState)(!1),X=ce(W,2),Y=X[0],Z=X[1],ee=(0,le.useState)(0),ne=ce(ee,2),te=ne[0],re=ne[1],oe=(0,le.useState)(0),ue=ce(oe,2),ae=ue[0],ie=ue[1];function eb(e,n){var t=void 0;\"proficiency\"===n?t=D[e.detail.value]:\"personnel\"===n?(t=q[e.detail.value],\"0\"!==e.detail.value?Z(!0):Z(!1)):t=e.detail.value;var r=JSON.parse(JSON.stringify(a));r[n]=t,w(r)}(0,le.useEffect)(function(){var e=JSON.parse(JSON.stringify(I.Personnel));if(e){console.log(e);var n=e.prof_degree&&e.prof_degree.map(function(e){return e.name});T(n);var t=e.type&&e.type.map(function(e){return e.name});z(t);var r=e.label&&e.label.map(function(e){return e.click=!1,e});H(r)}for(var o=[],u=[],a=[],i=[],s=[],c=[],l=0;l<pe.default.length;l++){if(\"0\"!==pe.default[l].pid){i.push(pe.default[l]),o.push(pe.default[l].name);var f=[];if(pe.default[l].children.length){s.push(pe.default[l].children);for(var p=0;p<pe.default[l].children.length;p++)\"1\"!==pe.default[l].children[p].pid&&f.push(pe.default[l].children[p].name)}else s.push([pe.default[l]]),f.push(pe.default[l].name);a.push(f)}u=[pe.default[1].name]}for(var d=0;d<i.length;d++)if(i[d].children)for(var y=0;y<i[d].children.length;y++)\"1\"===i[d].children[y].pid&&i[d].children.splice(i[d].children[y],1);if(x(i),k([o,a]),0===j&&J([o,u]),F){var m=JSON.parse(JSON.stringify(I));if(m.Myresume){var h=m.Personnel.label.map(function(n){return m.Myresume.info.tags.map(function(e){return n.id===e.id&&(n.click=!0),e}),n});H(h),V(m.Myresume.info.tags),\"1\"!==m.Myresume.info.type&&Z(!0),w({\"age\":m.Myresume.introduces.experience,\"proficiency\":m.Myresume.introduces.prof_degree_str,\"personnel\":m.Myresume.introduces.type_str,\"address\":m.Myresume.introduces.hometown,\"type\":m.Myresume.introduces.number_people});for(var v=m.Myresume.introduces.hometown_id&&m.Myresume.introduces.hometown_id.split(\",\"),g=0,_=0,b=0;b<pe.default.length;b++)v[0]==pe.default[b].id&&(g=b-1);for(var O=0;O<pe.default.length;O++)for(var S=0;S<pe.default[O].children.length;S++)v[1]==pe.default[O].children[S].id&&(c=pe.default[O].children.map(function(e){return e.name}),_=S);console.log(m.Myresume.introduces.prof_degree,\"allItem.Myresume.introduces.prof_degree\"),console.log(m.Myresume,\"allItem.Myresume\"),j<1&&(M([g,_]),P(m.Myresume.introduces.hometown_id.split(\",\")),0<m.Myresume.introduces.prof_degree?re(parseInt(m.Myresume.introduces.prof_degree)-1):re(parseInt(m.Myresume.introduces.prof_degree)),0<m.Myresume.introduces.prof_degree?ie(parseInt(m.Myresume.introduces.type)+1):ie(parseInt(m.Myresume.introduces.type)),J([o,c]))}}},[j]),this.anonymousFunc0=function(e){return eb(e,\"age\")},this.anonymousFunc1=function(e){return function handleChange(e){M(e.detail.value);var n=\"\";if(0!=p[c[0]].children.length){n=p[c[0]].id+\",\"+p[c[0]].children[c[1]].id;var t=p[c[0]].name+p[c[0]].children[c[1]].name,r=JSON.parse(JSON.stringify(a));r.address=t,w(r)}else{n=p[c[0]].id+\",\"+p[c[0]].id;var o=JSON.parse(JSON.stringify(a)),u=p[c[0]].name;o.address=u,w(o)}P(n)}(e)},this.anonymousFunc2=function(e){return function handlebindcolumnchange(e){var n={\"multiArray\":O,\"multiIndex\":c};switch(n.multiIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:switch(n.multiIndex[0]){case n.multiIndex[0]:n.multiArray[1]=g[1][n.multiIndex[0]]}n.multiIndex[1]=0}J(n.multiArray),M(n.multiIndex),A(j+1)}(e)},this.anonymousFunc3=function(e){return eb(e,\"proficiency\")},this.anonymousFunc4=function(e){return eb(e,\"personnel\")},this.anonymousFunc5=function(e){return eb(e,\"type\")},this.anonymousFunc7=function handleSubmit(){var e=q.indexOf(a.personnel),n=D.indexOf(a.proficiency),t=U.map(function(e){return e.id}).toString(),r={\"experience\":a.age,\"hometown\":m,\"number_people\":a.type,\"prof_degree\":n+1,\"tags\":t,\"type\":e+1};console.log(r,\"parsadsa\"),a.age?m?a.proficiency?a.personnel?0<e?/^[0-9]{1,4}$/gi.test(a.type)||~~a.type<=1&&fe.default.showModal({\"title\":\"温馨提示\",\"content\":\"请输入您的队伍人数不得少于2人\",\"showCancel\":!1}):(0,ve.resumesIntroduceAction)(r).then(function(e){200===e.errcode?(0,he.SubscribeToNews)(\"resume\",function(){(0,ye.SubPopup)({\"tips\":e.errmsg,\"callback\":function callback(){fe.default.navigateBack({\"delta\":1})}})}):fe.default.showModal({\"title\":\"温馨提示\",\"content\":e.errmsg,\"showCancel\":!1})}):(0,me.default)(\"请选择人员构成\"):(0,me.default)(\"请选择熟练度\"):(0,me.default)(\"请选择家乡\"):fe.default.showModal({\"title\":\"温馨提示\",\"content\":\"请输入您的工龄\",\"showCancel\":!1})};var se=G.map(function(e,n){e={\"privateOriginal\":(0,le.internal_get_original)(e)};var t=\"iazzz\"+n;return r.anonymousFunc6Map[t]=function(){return function handleText(e){var n=JSON.parse(JSON.stringify(G)),r=JSON.parse(JSON.stringify(U)),t=n.map(function(t){return t.id===e.id&&(e.click?(t.click=!1,r.map(function(e,n){return t.label_name===e.label_name&&r.splice(n,1),e})):r.length<3&&(t.click=!0,r.push(t))),t});V(r),H(t)}(e.privateOriginal)},{\"_$indexKey\":t,\"privateOriginal\":e.privateOriginal}});return Object.assign(this.__state,{\"loopArray79\":se,\"formData\":a,\"multiIndex\":c,\"multiArray\":O,\"proficiencyIndex\":te,\"proficiency\":D,\"userIndex\":ae,\"personnel\":q,\"ranks\":Y,\"label\":G}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(e){for(var n,t=arguments.length,r=Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return this.anonymousFunc6Map[e]&&(n=this.anonymousFunc6Map)[e].apply(n,r)}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}}]),PersonInfo);function PersonInfo(){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,PersonInfo);var e=function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}(this,(PersonInfo.__proto__||Object.getPrototypeOf(PersonInfo)).apply(this,arguments));return e.config={\"navigationBarTitleText\":\"人员信息\"},e.$usedState=[\"loopArray79\",\"formData\",\"multiIndex\",\"multiArray\",\"proficiencyIndex\",\"proficiency\",\"userIndex\",\"personnel\",\"ranks\",\"label\"],e.anonymousFunc6Map={},e.customComponents=[],e}o.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\"],o.$$componentPath=\"pages/resume/personInfo/index\",o.config={\"navigationBarTitleText\":\"人员信息\"},n.default=o,Page(t(0).default.createComponent(o,!0))},\"154\":function(e,n,t){}},[[153,0,1]]]);","extractedComments":[]}