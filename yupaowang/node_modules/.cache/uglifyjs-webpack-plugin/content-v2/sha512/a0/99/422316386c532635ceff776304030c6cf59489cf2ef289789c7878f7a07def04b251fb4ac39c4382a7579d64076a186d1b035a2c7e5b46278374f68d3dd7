{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[76],{\"150\":function(n,t,i){\"use strict\";i.r(t);var e=i(59),r=i.n(e);for(var o in e)\"default\"!==o&&function(n){i.d(t,n,function(){return e[n]})}(o);t.default=r.a},\"247\":function(n,t,i){n.exports=i.p+\"pages/topping/distruction/index.wxml\"},\"426\":function(n,t,i){\"use strict\";i.r(t);i(427);var e=i(150);for(var r in e)\"default\"!==r&&function(n){i.d(t,n,function(){return e[n]})}(r)},\"427\":function(n,t,i){\"use strict\";i(247)},\"428\":function(n,t,i){},\"59\":function(n,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var U=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,t){var i=[],e=!0,r=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(e=(a=c.next()).done)&&(i.push(a.value),!t||i.length!==t);e=!0);}catch(n){r=!0,o=n}finally{try{!e&&c.return&&c.return()}finally{if(r)throw o}}return i}(n,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},e=function(n,t,i){return t&&defineProperties(n.prototype,t),i&&defineProperties(n,i),n};function defineProperties(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var r,o,H=i(0),V=_interopRequireDefault(H),Q=i(1),W=_interopRequireDefault(i(8)),X=i(7),Y=i(2),Z=i(423);function _interopRequireDefault(n){return n&&n.__esModule?n:{\"default\":n}}function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?n:t}i(428);var a=(function _inherits(n,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);n.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":n,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(Distruction,V.default.Component),e(Distruction,[{\"key\":\"_constructor\",\"value\":function _constructor(n){(function get(n,t,i){null===n&&(n=Function.prototype);var e=Object.getOwnPropertyDescriptor(n,t);if(void 0===e){var r=Object.getPrototypeOf(n);return null===r?void 0:get(r,t,i)}if(\"value\"in e)return e.value;var o=e.get;return void 0!==o?o.call(i):void 0})(Distruction.prototype.__proto__||Object.getPrototypeOf(Distruction.prototype),\"_constructor\",this).call(this,n),this.$$refs=new V.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(n,t,i){var r=this;this.__state=n||this.state||{},this.__props=t||this.props||{},this.$prefix;var e=(0,H.useContext)(Z.contextItem),o=e.AreParams,a=e.setAreParams,c=(0,H.useRouter)().params,$=c.max_city,w=c.max_province,u=(0,H.useState)({\"item\":[]}),l=U(u,2),N=l[0],J=l[1],s=(0,H.useState)({\"areData\":[]}),p=U(s,2),M=p[0],x=p[1],f=(0,H.useState)(!1),d=U(f,2),y=d[0],m=d[1],h=(0,H.useState)(!1),v=U(h,2),g=v[0],k=v[1],_=(0,H.useState)({\"list\":[]}),O=U(_,2),S=O[0],F=O[1],b=(0,H.useState)(\"\"),D=U(b,2),A=D[0],C=D[1],j=(0,H.useState)({\"historylist\":[]}),I=U(j,2),P=I[0],R=I[1],z=(0,H.useState)({\"city\":[],\"province\":[],\"whole\":[]}),T=U(z,2),E=T[0],L=T[1];function sb(e,i){if(console.log(e),\"0\"===e.pid){var n=JSON.parse(JSON.stringify(N.item)),t=JSON.parse(JSON.stringify(M.areData)),r=void 0,o=void 0,a=[];o=e.click?(r=n.map(function(n){return n.id===e.id&&(n.click=!1),n}),t.map(function(n){return n.children&&n.children.map(function(n){n.click=!1}),n})):(r=n.map(function(n){return n.id===e.id?(n.click=!0,a.push(n)):n.click=!1,n}),t.map(function(n){return n.children&&n.children.map(function(n){n.click=!1}),n})),x({\"areData\":o}),J({\"item\":r}),L({\"city\":[],\"province\":[],\"whole\":a})}else if(\"1\"!==e.pid&&\"0\"!==e.pid){var c=JSON.parse(JSON.stringify(E.city));if(c.length){var u=JSON.parse(JSON.stringify(c));if(u.find(function(n){return n.id===e.id}))u.map(function(n,t){n.id===e.id&&u.splice(t,1)});else{if(c.length>=parseInt($))return void V.default.showModal({\"title\":\"温馨提示\",\"content\":\"最多可同时置顶\"+$+\"个市、\"+w+\"个省或直辖市\",\"showCancel\":!1});u.push(e)}var l=N.item.map(function(n){return n.id===e.id&&(n.click=!e.click),n}),s=M.areData.map(function(t){return t.children.map(function(n){return n.id===e.id&&(1===i?n.click=e.click:(n.click=!e.click,t.children[0].click=!1)),n}),t});x({\"areData\":s}),J({\"item\":l});var p=JSON.parse(JSON.stringify(E.province));M.areData.map(function(i){i.children&&i.children.map(function(n){n.id===e.id&&p.map(function(n,t){n.id===i.id&&p.splice(t,1)})})}),L({\"city\":u,\"province\":p,\"whole\":[]})}else{var f=N.item.map(function(n){return n.id===e.id?n.click=!e.click:\"0\"===n.pid&&(console.log(n),n.click=!1),n}),d=M.areData.map(function(t){return t.id!==e.id&&t.children.map(function(n){return n.id===e.id&&(1===i?n.click=e.click:(n.click=!e.click,t.children[0].click=!1)),\"1\"===n.pid&&t.children.map(function(n){n.id===e.id&&(n.click=!1)}),n}),t});x({\"areData\":d}),J({\"item\":f});var y=JSON.parse(JSON.stringify(c));y.push(e);var m=JSON.parse(JSON.stringify(E.province));M.areData.map(function(i){i.children&&i.children.map(function(n){n.id===e.id&&m.map(function(n,t){n.id===i.id&&m.splice(t,1)})})}),L({\"city\":y,\"province\":m,\"whole\":[]})}}else{var h=JSON.parse(JSON.stringify(E.province));if(h.length){var v=JSON.parse(JSON.stringify(h));if(v.find(function(n){return n.id===e.id}))v.map(function(n,t){n.id===e.id&&v.splice(t,1)});else{if(h.length>=parseInt(w))return void V.default.showModal({\"title\":\"温馨提示\",\"content\":\"最多可同时置顶\"+$+\"个市、\"+w+\"个省或直辖市\",\"showCancel\":!1});v.push(e)}var g=N.item.map(function(n){return n.id===e.id&&(n.click=!e.click),n}),k=M.areData.map(function(n){return n.id!==e.id?n.children.map(function(n){return n.id===e.id&&(n.click=!e.click),n}):n.children.map(function(n){return n.id===e.id?n.click=!e.click:n.click=!1,n}),n}),_=JSON.parse(JSON.stringify(E.city));M.areData.map(function(n){n.id===e.id&&n.children.map(function(i){_.map(function(n,t){i.id===n.id&&_.splice(t,1)})})}),x({\"areData\":k}),J({\"item\":g}),L({\"city\":_,\"province\":v,\"whole\":[]})}else{console.log(e,\"第一次点击省\");for(var O=JSON.parse(JSON.stringify(M.areData)),S=0;S<O.length;S++)O[S].id===e.id&&O[S].children.length&&O[S].children.map(function(n){n.id===e.id?(console.log(e),console.log(n,\"222\"),n.click=!e.click):n.click=!1});var F=JSON.parse(JSON.stringify(E.city));M.areData.map(function(n){n.id===e.id&&n.children.map(function(i){N.item.map(function(n){return n.id===i.id&&(n.click=!1),n}),F.map(function(n,t){i.id===n.id&&F.splice(t,1)})})});var b=N.item.map(function(n){return n.id===e.id?n.click=!0:\"0\"===n.pid&&(n.click=!1),n});x({\"areData\":O}),J({\"item\":b});var D=JSON.parse(JSON.stringify(h));D.push(e),L({\"city\":F,\"province\":D,\"whole\":[]})}}}function tb(n){sb(n,0),m(!1),k(!1),C(\"\"),P.historylist.unshift(n);var i={},t=P.historylist.reduce(function(n,t){return i[t.name]||(i[t.name]=n.push(t)),n},[]);R({\"historylist\":t}),6<P.historylist.length&&P.historylist.pop(),V.default.setStorageSync(X.SearchList,P.historylist)}(0,H.useEffect)(function(){var n=V.default.getStorageSync(X.SearchList);n&&R({\"historylist\":n}),(0,Q.jobTopHotAreasAction)().then(function(n){if(\"ok\"==n.errcode){var t=[];W.default.map(function(n){0<n.children.length&&t.push(n)});for(var i=0;i<t.length;i++)for(var e=0;e<t[i].children.length;e++)t[i].click=!1,t[i].children[e].click=!1;o&&(n.data.map(function(t){o.city&&o.city.map(function(n){return t.id===n.id&&(t.click=!0),n}),o.province&&o.province.map(function(n){return t.id===n.id&&(t.click=!0),n})}),t.map(function(n){n.children.map(function(t){o.city&&o.city.map(function(n){return t.id===n.id&&(t.click=!0),n}),o.province&&o.province.map(function(n){return t.id===n.id&&(t.click=!0),n})})})),J({\"item\":n.data}),x({\"areData\":t}),L({\"city\":o.city,\"province\":o.province,\"whole\":[]})}else V.default.showModal({\"title\":\"温馨提示\",\"content\":n.errmsg,\"showCancel\":!1})})},[]),this.anonymousFunc0=function handleInput(){m(!0)},this.anonymousFunc1=function(n){return function handleOnInput(t){C(t.detail.value),k(!0);var i=[];W.default.map(function(n){0<=n.name.indexOf(t.detail.value)&&i.push(n),n.children.map(function(n){0<=n.name.indexOf(t.detail.value)&&i.push(n)})});var e=[];i.map(function(t){return t.listName=t.ad_name+\"-\"+t.name,t.children&&0<t.children.length&&t.children.map(function(n){return n.listName=t.name+\"-\"+n.name,e.push(n),n}),e.push(t),t}),F({\"list\":e})}(n)},this.anonymousFunc3=function handleCloseHistory(){R({\"historylist\":[]}),V.default.clearStorageSync()},this.anonymousFunc8=function handleClick(){a(E.city,E.province,E.whole),V.default.navigateBack({\"delta\":1})};var K=0<S.list.length?S.list.map(function(n,t){n={\"$original\":(0,H.internal_get_original)(n)};var i=\"bdjzz\"+t;return r.anonymousFunc2Map[i]=function(){return tb(n.$original)},{\"_$indexKey\":i,\"$original\":n.$original}}):[],q=y&&!g&&0<P.historylist.length?P.historylist.map(function(n,t){n={\"$original\":(0,H.internal_get_original)(n)};var i=\"beazz\"+t;return r.anonymousFunc4Map[i]=function(){return tb(n.$original)},{\"_$indexKey2\":i,\"$original\":n.$original}}):[],B=N.item.map(function(n,t){n={\"$original\":(0,H.internal_get_original)(n)};var i=\"bebzz\"+t;return r.anonymousFunc5Map[i]=function(){sb(n.$original,1)},{\"_$indexKey3\":i,\"$original\":n.$original}}),G=M.areData.map(function(n,e){return{\"$anonymousCallee__29\":(n={\"$original\":(0,H.internal_get_original)(n)}).$original.children.map(function(n,t){n={\"$original\":(0,H.internal_get_original)(n)};var i=\"beczz\"+e+\"-\"+t;return r.anonymousFunc6Map[i]=function(){return sb(n.$original,0)},{\"_$indexKey4\":i,\"$original\":n.$original}}),\"$original\":n.$original}});return Object.assign(this.__state,{\"searchData\":S,\"history\":P,\"data\":N,\"are\":M,\"loopArray133\":K,\"loopArray134\":q,\"loopArray135\":B,\"loopArray136\":G,\"clickInput\":y,\"inputVal\":A,\"onInput\":g,\"IMGCDNURL\":Y.IMGCDNURL}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(n){for(var t,i=arguments.length,e=Array(1<i?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return this.anonymousFunc2Map[n]&&(t=this.anonymousFunc2Map)[n].apply(t,e)}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(n){for(var t,i=arguments.length,e=Array(1<i?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return this.anonymousFunc4Map[n]&&(t=this.anonymousFunc4Map)[n].apply(t,e)}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(n){for(var t,i=arguments.length,e=Array(1<i?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return this.anonymousFunc5Map[n]&&(t=this.anonymousFunc5Map)[n].apply(t,e)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(n){for(var t,i=arguments.length,e=Array(1<i?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return this.anonymousFunc6Map[n]&&(t=this.anonymousFunc6Map)[n].apply(t,e)}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}}]),o=r=Distruction,r.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc8\"],r.$$componentPath=\"pages/topping/distruction/index\",o);function Distruction(){var n,t,i;!function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Distruction);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=i=_possibleConstructorReturn(this,(n=Distruction.__proto__||Object.getPrototypeOf(Distruction)).call.apply(n,[this].concat(r)))).config={\"navigationBarTitleText\":\"招工置顶\"},i.$usedState=[\"searchData\",\"history\",\"data\",\"are\",\"loopArray133\",\"loopArray134\",\"loopArray135\",\"loopArray136\",\"clickInput\",\"inputVal\",\"onInput\",\"IMGCDNURL\"],i.anonymousFunc2Map={},i.anonymousFunc4Map={},i.anonymousFunc5Map={},i.anonymousFunc6Map={},i.customComponents=[],_possibleConstructorReturn(i,t)}a.config={\"navigationBarTitleText\":\"招工置顶\"},t.default=a,Component(i(0).default.createComponent(a,!0))}},[[426,0,1,2,3]]]);","extractedComments":[]}