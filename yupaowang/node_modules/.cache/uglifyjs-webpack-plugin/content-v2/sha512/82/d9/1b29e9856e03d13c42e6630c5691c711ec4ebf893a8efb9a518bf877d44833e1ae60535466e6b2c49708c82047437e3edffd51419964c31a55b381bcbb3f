{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[61],{\"133\":function(e,n,t){\"use strict\";t.r(n);var r=t(43),o=t.n(r);for(var a in r)\"default\"!==a&&function(e){t.d(n,e,function(){return r[e]})}(a);n.default=o.a},\"233\":function(e,n,t){e.exports=t.p+\"pages/realname/index.wxml\"},\"381\":function(e,n,t){\"use strict\";t.r(n);t(382);var r=t(133);for(var o in r)\"default\"!==o&&function(e){t.d(n,e,function(){return r[e]})}(o)},\"382\":function(e,n,t){\"use strict\";t(233)},\"383\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});var E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return t}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};n.default=function useRealname(){var e=(0,M.useState)(0),n=P(e,2),t=n[0],s=n[1],r=(0,M.useState)(\"\"),o=P(r,2),a=o[0],c=o[1],u=(0,M.useState)(0),i=P(u,2),m=i[0],l=i[1],f=(0,M.useState)(),d=P(f,2),y=d[0],p=d[1],h=(0,M.useState)(),v=P(h,2),_=v[0],b=v[1],g=(0,q.useSelector)(function(e){return e.User.login}),x=(0,M.useState)(!1),F=P(x,2),C=F[0],D=F[1],N=(0,M.useState)(!1),O=P(N,2),k=O[0],R=O[1],A=(0,M.useState)(\"\"),S=P(A,2),I=S[0],w=S[1];return(0,M.useEffect)(function(){g&&(0,U.getUserAuthInfo)().then(function(e){if(\"ok\"==e.errcode){var n=e.authData;p(n);var t=n.memberExt.nation_id||\"\",r=\"\",o=0;t&&(o=n.nation.findIndex(function(e){return e.mz_id==t}),r=n.nation[o].mz_name,l(o));var a={\"username\":n.member?n.member.username:\"\",\"age\":n.memberExt.age||\"\",\"nation_id\":t,\"nationality\":r,\"idCard\":n.memberExt.id_card||\"\",\"idCardImg\":n.memberExt.id_card_img||\"\",\"handImg\":n.memberExt.hand_img||\"\",\"tel\":n.member?n.member.tel:\"\",\"code\":\"\",\"address\":n.memberExt.address||\"\",\"birthday\":n.memberExt.birthday||\"\",\"gender\":n.memberExt.sex||\"\"},u=(0,z.getLongAreaAdname)(a.address);if(w(u),n.member&&\"2\"==n.member.check_degree&&R(!0),\"\"!==n.memberExt.sex)for(var i=0;i<Y.length;i++)if(Y[i].id==n.memberExt.sex){c(Y[i].name),s(i);break}b(a),n.member&&\"2\"==n.member.check_degree&&D(!0)}else(0,J.ShowActionModal)({\"msg\":e.errmsg,\"success\":function success(){j.default.navigateBack()}})})},[g]),{\"initModel\":y,\"model\":_,\"setModel\":b,\"login\":g,\"userPostAuthInfo\":function userPostAuthInfo(){console.log(_)},\"userUploadIdcard\":function userUploadIdcard(e){var r=0<arguments.length&&void 0!==e?e:2,n=1==r?G.getIdcardAuthInfo:\"\";y&&(0,$.CameraAndAlbum)(n).then(function(e){if(\"ok\"==e.errcode){var n=JSON.parse(JSON.stringify(y.memberExt));if(1!=r)return n.hand_img=e.url,n.hand_img_path=e.httpurl,void(0,L.default)(e.errmsg);if(n.id_card_img=e.url,n.id_card_img_path=e.httpurl,p(E({},y,{\"memberExt\":n})),e.card_info){D(!0);var t=e.card_info;e.card_info.success?(n.nation_id=t.nation_id||\"\",n.birthday=t.birth||\"\",n.address=t.address||\"\",n.sex=t.sex||\"\",n.id_card=t.num||\"\",n.user_name=t.name||\"\"):((0,L.default)(e.card_info.tips_message),n.id_card_img_path=T,p(E({},y,{\"memberExt\":n})))}}else(0,L.default)(e.errmsg)})},\"sexArray\":Y,\"setSexCurrent\":s,\"sexCurrent\":t,\"showForm\":C,\"sexName\":a,\"setSexName\":c,\"nationCurrent\":m,\"setNationCurrent\":l,\"setInitModel\":p,\"checkDegree\":k,\"area\":I,\"setArea\":w}};var M=t(0),j=_interopRequireDefault(M),U=t(1),q=t(4),J=t(3),L=_interopRequireDefault(J),$=t(14),G=t(206),r=t(2),z=t(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}var T=r.IMGCDNURL+\"lpy/auth/upload-fail-tips.png\",Y=[{\"id\":\"1\",\"name\":\"男\"},{\"id\":\"2\",\"name\":\"女\"}]},\"384\":function(e,n,t){},\"43\":function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0}),n.context=void 0;var S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e};function defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a,u=t(0),I=_interopRequireDefault(u),w=t(2),E=_interopRequireDefault(t(383)),P=_interopRequireDefault(t(13)),M=t(6),j=_interopRequireDefault(t(3));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}t(384);var U=n.context=(0,u.createContext)({}),i=(function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(RealName,I.default.Component),r(RealName,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,n,t){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,n,t)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(t):void 0})(RealName.prototype.__proto__||Object.getPrototypeOf(RealName.prototype),\"_constructor\",this).call(this,e),this.$$refs=new I.default.RefsArray}},{\"key\":\"_createData\",\"value\":function _createData(e,n,t){function Dc(e,n){var t=JSON.parse(JSON.stringify(p));t[e]=n.detail.value,h(t)}function Ec(){a(1)}this.__state=e||this.state||{},this.__props=n||this.props||{},this.$prefix;var r=(0,E.default)(),o=r.checkDegree,a=r.userUploadIdcard,u=r.sexArray,i=r.sexCurrent,s=r.setSexCurrent,c=r.setSexName,m=r.sexName,l=r.nationCurrent,f=r.initModel,d=r.setNationCurrent,y=r.setInitModel,p=r.model,h=r.setModel,v=r.userPostAuthInfo,_=r.area,b=r.setArea,g=(0,P.default)(),x=g.text,F=g.userGetCode,C={\"area\":_,\"setArea\":function setArea(e){return b(e)}},D=new Date,N=D.getFullYear(),O=D.getMonth()+1,k=D.getDate(),R=N-60+\"-\"+O+\"-\"+k,A=N-18+\"-\"+O+\"-\"+k;return U.Provider(C),this.anonymousFunc0=function(){return Ec()},this.anonymousFunc1=function(){return Ec()},this.anonymousFunc2=function(e){return Dc(\"username\",e)},this.anonymousFunc3=function(e){return function userChangeSex(e){var n=parseInt(e.detail.value),t=u[n].id;s(n),c(u[n].name),p&&h(S({},p,{\"gender\":t}))}(e)},this.anonymousFunc4=function(e){return function userChangeBirthday(e){var n=e.detail.value;if(f){var t=JSON.parse(JSON.stringify(f.memberExt));t.birthday=n,y(S({},f,{\"memberExt\":t})),p&&h(S({},p,{\"birthday\":n}))}}(e)},this.anonymousFunc5=function(e){return function userChangeNation(e){var n=parseInt(e.detail.value);if(d(n),f){var t=f.nation[n].mz_name,r=f.nation[n].mz_id;p&&h(S({},p,{\"nation_id\":r,\"nationality\":t}))}}(e)},this.anonymousFunc6=function(e){return Dc(\"idCard\",e)},this.anonymousFunc7=function(){return function userChooseArea(){I.default.navigateTo({\"url\":\"/pages/map/realname/index\"})}()},this.anonymousFunc8=function(e){return Dc(\"tel\",e)},this.anonymousFunc9=function(e){return Dc(\"code\",e)},this.anonymousFunc10=function(){return function userSendCode(){var e=f&&f.member?f.member.tel:\"\";(0,M.isPhone)(e)?F(e):(0,j.default)(\"请先输入正确的手机号\")}()},this.anonymousFunc11=function(){return v()},Object.assign(this.__state,{\"model\":p,\"ALIYUNCDN\":w.ALIYUNCDN,\"IMGCDNURL\":w.IMGCDNURL,\"sexCurrent\":i,\"sexArray\":u,\"sexName\":m,\"initModel\":f,\"startDate\":R,\"endDate\":A,\"nationCurrent\":l,\"checkDegree\":o,\"text\":x}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}}]),a=o=RealName,o.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\"],o.$$componentPath=\"pages/realname/index\",a);function RealName(){var e,n,t;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,RealName);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t=_possibleConstructorReturn(this,(e=RealName.__proto__||Object.getPrototypeOf(RealName)).call.apply(e,[this].concat(o)))).$usedState=[\"model\",\"ALIYUNCDN\",\"IMGCDNURL\",\"sexCurrent\",\"sexArray\",\"sexName\",\"initModel\",\"startDate\",\"endDate\",\"nationCurrent\",\"checkDegree\",\"text\"],t.customComponents=[],_possibleConstructorReturn(t,n)}n.default=i,Component(t(0).default.createComponent(i,!0))}},[[381,0,1,2,3]]]);","extractedComments":[]}